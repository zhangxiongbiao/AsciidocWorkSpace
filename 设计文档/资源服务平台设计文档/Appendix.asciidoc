= 附录
:appendix-caption: 附录
:numbered:
:imagesdir: images

[appendix]
== 编号编制规则
=== 报文编号
报文编号采用层次码，由35位英文字母和阿拉伯数字组成。左起第1、2位为第一层，由英文字母组成，第3～14位为第二层，第15～22位为第三层，第23～31位为第四层，第32～35位为第五层均由阿拉伯数字组成。其结构图如下图：

.报文编号结构图
image::bwbh.jpg[]

.结构说明
. 第一层为报文种类代码，应符合第8章的规定
.	第二层为报文来源IP地址
. 第二层为报文日期，日期表示方法为：YYYYMMDD
. 第三层为报文时间，时间表示方法为：HHMMSSFFF，以24小时制表示
. 第四层为流水号，流水号由阿拉伯数字0001起始，顺序表示

=== 总线标识
总线标识采用层次码，由14位英文字母和阿拉伯数字组成。左起第1～12位为第一层，由英文字母和阿拉伯数字组成，第13～14位为第二层， 由阿拉伯数字组成。其结构如下图：

image::zxbs.jpg[]

.总线标识结构图
. 第一层为公安机关机构代码，公安机构代码应符合GA/T 380的规定
. 第二层为流水号，流水号由阿拉伯数字01起始，顺序表示

=== 服务标识
服务标识采用层次码，由21位英文字母和阿拉伯数字组成。左起第1位为第一层，由英文字母组成，第2～4位为第二层，由英文字母或阿拉伯数字组成，第5～16位为第三层，由英文字母或阿拉伯数字组成，第17～21位为第四层，由阿拉伯数字组成。其结构如下图所示：

.服务标识结构图
image::fwbs.jpg[]

.服务标识结构图说明
. 第一层为固定标识符，所有服务资源标识符以“S”开头；
. 第二层为行业分类代码，参照GB/T21063 标准取前三位；
. 第三层为机构代码，如果为行业内机构采用公安机关机构代码，公安机构代码应符合GA/T 380的规定，如果为行业外机构采用质监局提供的9位机构编码，不足12位的代码，前面补0；
. 第四层为流水号，流水号由阿拉伯数字00001起始，顺序表示。

=== 服务请求标识
服务请求标识采用层次码，由24位英文字母和阿拉伯数字组成。左起第1～12位为第一层，由英文字母和阿拉伯数字组成，第13～20位为第二层，第21～24位为第三层，均由阿拉伯数字组成。其结构如下图所示：

.服务请求标识结构图
image::fwqqbs.png[]

.服务请求标识结构说明
. 第一层，行业内服务请求者使用380编码，行业外服务请求者使用组织机构代码、前补零；
. 第二层为服务请求注册日期，日期表示方法为：YYYYMMDD；
. 第三层为流水号，流水号由阿拉伯数字0001起始，顺序表示。

=== 服务请求者标识
服务请求者标识采用层次码，由21位英文字母和阿拉伯数字组成。左起第1位为第一层，由英文字母组成，第2～4位为第二层，由英文字母或阿拉伯数字组成，第5～16位为第三层，由英文字母或阿拉伯数字组成，第17～21位为第四层，由阿拉伯数字组成。

.服务请求者标识结构图
image::service_consumer.jpg[]

.服务请求者标识说明
. 第一层为固定标识符，所有服务请求者标识符以“A”开头；
. 第二层为行业分类代码，参照GB/T21063 标准取前三位；
. 第三层为机构代码，如果为行业内机构采用公安机关机构代码，公安机构代码应符合GA/T 380的规定，如果为行业外机构采用质监局提供的9位机构编码，不足12位的代码，前面补0；
. 第四层为流水号，流水号由阿拉伯数字00001起始，顺序表示。

=== 数据资源标识
数据资源标识采用层次码，由27位英文字母、阿拉伯数字和中划线组成。左起第1位为第一层，由英文字母组成，第3～14位为第二层，由英文字母或阿拉伯数字组成，第16～27位为第三层，由英文字母或阿拉伯数字组成，第2、5位均为中划线。其结构图如下图所示：

.数据资源标识结构图
image::data_resource_no.png[]

.数据资源标识结构图说明
. 第一层为固定标识符，所有数据资源标识符以“D”开头；
. 第二层为数据资源事权单位机构代码，事权单位为公安机关则按照GA380填写；事权单位为非公安机关则填写9位全国组织机构代码，前补0；
. 第三层为数据资源编号，表示方法参照GA/T XXX.1-201X 公安部信息资源服务平台 数据资源目录技术规范。

=== 服务类型编码
服务类型编码采用层次码，由20位英文字母和阿拉伯数字组成。左起第1～4位为第一层，由英文字母组成，第5～9位为第二层，第10～14位为第三层，第15～20位为第四层均由阿拉伯数字组成。其结构如下图所示：

.服务类型编码结构图
image::service_type_no.jpg[]

.服务类型编码结构说明
. 第一层为操作类型代码, 4位英文字母表示；
. 第二层为操作对象代码，为流水号，流水号由阿拉伯数字00000起始，顺序表示；
. 第三层为操作内容代码，为流水号，流水号由阿拉伯数字00000起始，顺序表示；
. 第三层为信息内容代码，为流水号，流水号由阿拉伯数字000000起始，顺序表示。

.服务类型表
|===
|代码					|操作类型	|操作对象			|操作内容							|信息内容
|XXCX0000100001000001	|信息查询	|人员信息查询		|基本人口信息查询					|常住人口信息查询
|XXCX0000100001000002	|			|					|暂住人口信息查询					|
|XXCX0000100002000001	|			|					|流动人口信息查询					|境内外旅客的住宿登记信息
|XXCX0000100003000001	|			|					|特殊人员查询						|驾驶员信息
|XXCX0000100003000002	|			|					|									|在逃在押人员信息
|XXCX0000100003000003	|			|					|									|违法犯罪人员信息
|XXCX0000100004000000	|			|					|证件查询							|
|XXCX0000200001000000	|			|案事件信息查询		|案件基本信息查询					|
|XXCX0000200002000000	|			|					|涉案物品查询						|
|XXCX0000200003000000	|			|					|涉案人员查询						|
|XXCX0000200004000000	|			|					|案情查询							|
|XXCX0000200005000000	|			|					|案件过程查询						|
|XXCX0000300001000000	|			|物品信息查询		|机动车信息查询						|
|XXCX0000300002000000	|			|					|交通违章信息查询					|
|XXCX0000300003000000	|			|					|交通事故查询						|
|XXCX0000400001000000	|			|机构查询			|特业信息查询						|
|XXCX0000400002000000	|			|					|犯罪团伙（黑社会）数据查询			|
|XXCX0000400003000000	|			|					|涉案单位查询						|
|XXJS0000100001000000	|信息检索	|结构化信息检索		|简单检索							|
|XXJS0000100002000000	|			|					|组合检索							|
|XXJS0000100003000000	|			|					|精确检索							|
|XXJS0000100004000000	|			|					|模糊检索							|
|XXJS0000100005000000	|			|					|近音词检索							|
|XXJS0000100006000000	|			|					|通配符检索							|
|XXJS0000100007000000	|			|					|同义词检索							|
|XXJS0000100008000000	|			|					|范围检索							|
|XXJS0000100009000000	|			|					|主题词检索							|
|XXJS0000200000000000	|			|非结构化信息检索	|									|
|SJSC0000000000000000	|数据上传	|					|									|
|SJXZ0000100000000000	|数据下载	|实时打包下载		|									|
|SJXZ0000200000000000	|			|定期打包下载		|									|
|SJCZ0000100000000000	|数据操作	|新增				|									|
|SJCZ0000200000000000	|			|修改				|									|
|SJCZ0000300000000000	|			|删除				|									|
|BDFX0000100000000000	|比对分析	|即时比对			|									|
|===

[appendix]
== 报文名称对照表

.报文名称对照表
|===
|报文名称中文			|报文名称英文	|报文种类代码
|总线报文				|SBmessage		|SB
|请求申请报文			|RAmessage		|RA
|授权报文				|AUmessage		|AU
|服务请求报文			|SRmessage		|SR
|服务提供报文			|SPmessage		|SP
|服务查询请求报文		|QRmessage		|QR
|服务查询提供报文		|QPmessage		|QP
|查询异步请求请求报文	|ARmessage		|AR
|查询异步请求提供报文	|APmessage		|AP
|获取异步请求结果报文	|GAmessage		|GA
|===

[appendix]
== 日志种类对照表

.日志种类对照表
|===
|日志种类代码	|日志种类名称
|SG				|服务注册日志
|SC				|服务注销日志
|SU				|服务更新日志
|SR				|服务请求日志
|SP				|服务提供日志
|RA				|请求申请日志
|AU				|授权日志
|99				|其他
|===

[appendix]
== 使用范围对照表

.使用范围对照表
|===
|序号	|行政范围	|岗位范围	|辖区范围	|涉密范围	|警种（部门）范围	|服务请求者标识	|结果集
|1		|			|			|			|			|					|				|全集
|2		|			|			|			|			|					|				|子集
|4		|			|			|			|			|					|				|…
|5		|			|			|			|			|					|				|空集
|===

子集表示采用XML标准格式。对行数的限制值放置在标记<RowCount>…</RowCount>之间。对字段项的限制值放置在<Columns>…</Columns>之间。 每一条字段项名称放置在<ColumnName>… <ColumnName>之间。

.示例
[source,xml]
----
<RowCount>1000</RowCount>
<Columns>
		<ColumnName>XM<ColumnName>
		<ColumnName>XB<ColumnName>
		<ColumnName>DZ<ColumnName>
</Columns>
----

[appendix]
== 服务状态代码对照表

.服务状态代码对照表
|===
|状态代码	|状态描述
|00			|正常工作
|01			|暂停工作
|02			|撤除服务
|03			|已有关联
|04			|暂无关联
|09			|其他
|===

[appendix]
== 数据资源状态代码对照表

.数据资源状态代码对照表
|===
|状态代码	|状态描述
|00			|正常工作
|01			|暂停工作
|02			|撤除数据资源
|09			|其他
|===

[appendix]
== 路由方式代码对照表

.路由方式代码对照表
|===
|路由方式代码	|路由方式描述
|00				|总线选择
|01				|总线路由
|02				|自主路由
|09				|其他
|===

[appendix]
== 接口类型代码对照表

.接口类型代码对照表
|===
|接口类型代码	|接口类型描述
|01				|WebService
|02				|PMQ
|09				|其他
|===

[appendix]
== 服务提供状态代码对照表

.服务提供状态代码
|===
|服务提供状态代码	|服务提供状态描述
|0000				|请求成功，正确返回结果
|0001				|请求成功，无返回结果
|0205				|总线验证异常，无授权
|0207				|总线验证异常，请求报文异常
|0400				|允许授权，并成功提供授权码
|0401				|不允许授权，服务不可用
|0402				|不允许授权，服务不存在
|0403				|不允许授权，请求者权级不够
|0404				|不允许授权，内部错误
|0503				|服务报文异常
|0800				|异步请求
|0999				|其他
|===
