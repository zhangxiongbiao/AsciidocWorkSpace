<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.4">
<meta name="author" content="张雄彪">
<title>Thinking In Java</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Thinking In Java</h1>
<div class="details">
<span id="author" class="author">张雄彪</span><br>
<span id="email" class="email"><a href="mailto:zxb@dameng.com">zxb@dameng.com</a></span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">2016-04-06</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">目录</div>
<ul class="sectlevel0">
<li><a href="#_introduction_to_objects">Introduction to Objects</a>
<ul class="sectlevel1">
<li><a href="#_the_progress_of_abstraction">1. The progress of abstraction</a></li>
<li><a href="#_an_object_has_an_interface">2. An object has an interface</a></li>
<li><a href="#_an_object_provides_services">3. An object provides services</a></li>
<li><a href="#_the_hidden_implementation">4. The hidden implementation</a></li>
<li><a href="#_reusing_the_implementation">5. Reusing the implementation</a></li>
<li><a href="#_inheritance">6. Inheritance</a></li>
<li><a href="#_is_a_vs_is_like_a_relationships">7. Is-a vs. is-like-a relationships</a></li>
<li><a href="#_interchangeable_objects_with_polymorphism">8. Interchangeable objects with polymorphism</a></li>
<li><a href="#_the_singly_rooted_hierarchy">9. The singly rooted hierarchy</a></li>
<li><a href="#_containers">10. Containers</a>
<ul class="sectlevel2">
<li><a href="#_parameterized_types_generics">10.1. Parameterized types (generics)</a></li>
</ul>
</li>
<li><a href="#_object_creation_lifetime">11. Object creation &amp; lifetime</a></li>
<li><a href="#_exception_handling_dealing_with_errors">12. Exception handling: dealing with errors</a></li>
<li><a href="#_concurrent_programming">13. Concurrent programming</a></li>
</ul>
</li>
<li><a href="#_everything_is_an_object">Everything Is an Object</a>
<ul class="sectlevel1">
<li><a href="#_you_manipulate_objects_with_references">14. You manipulate objects with references</a></li>
<li><a href="#_you_must_create_all_the_objects">15. You must create all the objects</a>
<ul class="sectlevel2">
<li><a href="#_where_storage_lives">15.1. Where storage lives</a></li>
<li><a href="#_special_case_primitive_types">15.2. Special case: primitive types</a></li>
<li><a href="#_high_precision_numbers">15.3. High-precision numbers</a></li>
<li><a href="#_arrays_in_java">15.4. Arrays in Java</a></li>
</ul>
</li>
<li><a href="#_you_never_need_to_destroy_an_object">16. You never need to destroy an object</a>
<ul class="sectlevel2">
<li><a href="#_scoping">16.1. Scoping</a></li>
<li><a href="#_scope_of_objects">16.2. Scope of objects</a></li>
</ul>
</li>
<li><a href="#_creating_new_data_types_class">17. Creating new data types: class</a>
<ul class="sectlevel2">
<li><a href="#_fields_and_methods">17.1. Fields and methods</a></li>
</ul>
</li>
<li><a href="#_methods_arguments_and_return_values">18. Methods, arguments, and return values</a>
<ul class="sectlevel2">
<li><a href="#_the_argument_list">18.1. The argument list</a></li>
</ul>
</li>
<li><a href="#_building_a_java_program">19. Building a Java program</a>
<ul class="sectlevel2">
<li><a href="#_name_visibility">19.1. Name Visibility</a></li>
<li><a href="#_using_other_components">19.2. Using other components</a></li>
<li><a href="#_the_strong_static_strong_keyword">19.3. The <strong>static</strong> keyword</a></li>
</ul>
</li>
<li><a href="#_your_first_java_program">20. Your first Java program</a></li>
<li><a href="#_compiling_and_running">21. Compiling and running</a></li>
<li><a href="#_comments_and_embedded_documentation">22. Comments and embedded documentation</a>
<ul class="sectlevel2">
<li><a href="#_comment_documentation">22.1. Comment documentation</a></li>
<li><a href="#_some_example_tags">22.2. Some example tags</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_operators">Operators</a>
<ul class="sectlevel1">
<li><a href="#_simpler_print_statements">23. Simpler print statements</a></li>
<li><a href="#_using_java_operators">24. Using Java operators</a></li>
<li><a href="#_precedence">25. Precedence</a></li>
<li><a href="#_assignment">26. Assignment</a></li>
<li><a href="#_aliasing_during_method_calls">27. Aliasing during method calls</a></li>
<li><a href="#_mathematical_operators">28. Mathematical operators</a></li>
<li><a href="#_unary_minus_and_plus_operators">29. Unary minus and plus operators</a></li>
<li><a href="#_auto_increment_and_decrement">30. Auto increment and decrement</a></li>
<li><a href="#_relational_operators">31. Relational operators</a>
<ul class="sectlevel2">
<li><a href="#_testing_object_equivalence">31.1. Testing object equivalence</a></li>
</ul>
</li>
<li><a href="#_logical_operators">32. Logical operators</a>
<ul class="sectlevel2">
<li><a href="#_short_circuiting">32.1. Short-circuiting</a></li>
</ul>
</li>
<li><a href="#_literals">33. Literals</a>
<ul class="sectlevel2">
<li><a href="#_exponential_notation">33.1. Exponential notation</a></li>
</ul>
</li>
<li><a href="#_bitwise_operators">34. Bitwise operators</a></li>
<li><a href="#_shift_operators">35. Shift operators</a>
<ul class="sectlevel2">
<li><a href="#_ternary_if_else_operator">35.1. Ternary if-else operator</a></li>
</ul>
</li>
<li><a href="#_string_operator_and">36. String operator + and +=</a></li>
<li><a href="#_common_pitfalls_when_using_operators">37. Common pitfalls when using operators</a></li>
<li><a href="#_casting_operators">38. Casting operators</a>
<ul class="sectlevel2">
<li><a href="#_truncation_and_rounding">38.1. Truncation and rounding</a></li>
<li><a href="#_promotion">38.2. Promotion</a></li>
</ul>
</li>
<li><a href="#_java_has_no_sizeof">39. Java has no “sizeof”</a></li>
<li><a href="#_a_compendium_of_operators">40. A compendium of operators</a></li>
<li><a href="#_summary">41. Summary</a></li>
</ul>
</li>
<li><a href="#_controlling_execution">Controlling Execution</a>
<ul class="sectlevel1">
<li><a href="#__strong_true_strong_and_strong_false_strong">42. <strong>True</strong> and <strong>False</strong></a></li>
<li><a href="#__strong_if_else_strong">43. <strong>if-else</strong></a></li>
<li><a href="#_iteration">44. Iteration</a>
<ul class="sectlevel2">
<li><a href="#_the_comma_operator">44.1. The comma operator</a></li>
</ul>
</li>
<li><a href="#_foreach_syntax">45. Foreach Syntax</a></li>
<li><a href="#__strong_return_strong">46. <strong>return</strong></a></li>
<li><a href="#__strong_break_strong_and_strong_continue_strong">47. <strong>break</strong> and <strong>continue</strong></a></li>
<li><a href="#_the_infamous_goto">48. The infamous “goto”</a></li>
<li><a href="#_switch">49. switch</a></li>
<li><a href="#_summary_2">50. Summary</a></li>
</ul>
</li>
<li><a href="#_initialization_cleanup">Initialization &amp; Cleanup</a>
<ul class="sectlevel1">
<li><a href="#_guaranteed_initialization_with_the_constructor">51. Guaranteed initialization with the constructor</a></li>
<li><a href="#_method_overloading">52. Method overloading</a></li>
<li><a href="#_default_constructors">53. Default constructors</a></li>
<li><a href="#_the_strong_this_strong_keyword">54. The <strong>this</strong> keyword</a>
<ul class="sectlevel2">
<li><a href="#_calling_constructors_from_constructors">54.1. Calling constructors from constructors</a></li>
<li><a href="#_the_meaning_of_static">54.2. The meaning of static</a></li>
</ul>
</li>
<li><a href="#_cleanup_finalization_and_garbage_collection">55. Cleanup: finalization and garbage collection</a></li>
<li><a href="#_enumerated_types">56. Enumerated types</a></li>
</ul>
</li>
<li><a href="#_accesscontrol">AccessControl</a>
<ul class="sectlevel1">
<li><a href="#_package_the_library_unit">57. package: the library unit</a>
<ul class="sectlevel2">
<li><a href="#_code_organization">57.1. Code organization</a></li>
<li><a href="#_java_access_specfiers">57.2. Java Access specfiers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_reusing_class">Reusing Class</a>
<ul class="sectlevel1">
<li><a href="#_final_keyword">58. Final KeyWord</a>
<ul class="sectlevel2">
<li><a href="#_final_data">58.1. final data</a></li>
<li><a href="#_blank_finals">58.2. Blank finals</a></li>
<li><a href="#_final_arguments">58.3. final arguments</a></li>
<li><a href="#_final_methods">58.4. final methods</a></li>
<li><a href="#_final_and_private">58.5. final and private</a></li>
<li><a href="#_final_classes">58.6. final classes</a></li>
<li><a href="#_final_caution">58.7. final caution</a></li>
</ul>
</li>
<li><a href="#_initialization_and_class_loading">59. Initialization and class loading</a></li>
</ul>
</li>
<li><a href="#_polymorphism">Polymorphism</a>
<ul class="sectlevel1">
<li><a href="#_method_call_binding">60. Method-call binding</a></li>
<li><a href="#_constructors_and_polymorphism">61. Constructors and polymorphism</a></li>
<li><a href="#_可变的返回类型">62. 可变的返回类型</a></li>
</ul>
</li>
<li><a href="#_interfaces">Interfaces</a>
<ul class="sectlevel1">
<li><a href="#_extending_an_interface_with_inheritance">63. Extending an interface with inheritance</a></li>
<li><a href="#_fields_in_interfaces">64. Fields in interfaces</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<h1 id="_introduction_to_objects" class="sect0"><a class="anchor" href="#_introduction_to_objects"></a>Introduction to Objects</h1>
<div class="openblock partintro">
<div class="content">
本章为背景和补充资料，因为很多人并不了解 <em>OOP</em> 。本章主要讲解面对对象编程的一些基本概念，以及为什么需要面向对象编程及其重要性。你可以跳过本章节，但是还是建议补充一下 <em>OOP</em> 的基本知识。
</div>
</div>
<div class="sect1">
<h2 id="_the_progress_of_abstraction"><a class="anchor" href="#_the_progress_of_abstraction"></a>1. The progress of abstraction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>所有的编程语言都提供了抽象。汇编语言是底层计算机器指令的抽象，而 <em>C</em> 等语言则是汇编语言的抽象。虽然 <em>C</em> 语言极大地抽象了汇编语言的复杂操作，但是它还是需要你思考计算机的结构而不是思考真正要解决的问题的结构。编程者往往需要在计算机模型与问题模型间建立联系。</p>
</div>
<div class="paragraph">
<p>面向对象在问题领域提供了进一步的工具来表示这些问题。将问题领域中的元素理解为对象。所以出现了新的问题元素时只是需要添加新的类型的对象即可。</p>
</div>
<div class="paragraph">
<p><strong><em>Alan Kay</em></strong> 总结了面向对象的五个特性。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Everything is an object</strong> .你可以将对象视为一个奇特的变量，它不仅可以存储数据，还可以请求它来执行方法。理论上，在你所解决的问题中，所有组件你都可以抽象为对象。</p>
</li>
<li>
<p><strong>A program is a bunch of objects telling each other what to do by
sending messages</strong> .即一个程序可以理解为一组互相彼此通讯的对象。</p>
</li>
<li>
<p><strong>Each object has its own memory made up of other objects</strong> .换句话说，就是通过组织现的一些对象，来构建新的对象。这样，可以把复杂的程序对象隐藏在一引简单的对象后面，用户只需要知道这个简单的对象即可。</p>
</li>
<li>
<p><strong>Every object has a type</strong> . 每一个对象都是一个类的实例，类又可以说是 <em>type</em> 的同义词。区别一个类的最重要的特征是"<code>What messages can you send to it?</code>"</p>
</li>
<li>
<p><strong>All objects of a particular type can receive the same messages</strong> .例如，圆这个类的对象同时也是 <em>Shape</em> 这个类的对象，圆可以接受 <em>Shape</em> 的消息。大致就是子类继承父类的行为和特性吧。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong><em>Booch</em></strong> 提出了对 <strong>对象</strong> 更简洁的描述</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><em>An object has state, behavior and identity.</em></p>
</div>
</div>
</div>
<div class="paragraph">
<p>这就是说，每一个对象有其内部数据（描述对象的状态）和方法（即对象的行为），并且每一个对象都有别于其它对象，因为每个对象的内存地址是唯一的。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_an_object_has_an_interface"><a class="anchor" href="#_an_object_has_an_interface"></a>2. An object has an interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Aristotle</em> 可能是第一个开始学习研究 <em>type</em> 这个概念的人了。他提出，所有的 <em>class</em> 是一个唯一的类型，也是其它拥有通用特征与行为的 <em>class</em> 的子类型。</p>
</div>
<div class="paragraph">
<p>在面向对象中，创建基础的数据类型 <em>class</em> 是一个基本概念。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_an_object_provides_services"><a class="anchor" href="#_an_object_provides_services"></a>3. An object provides services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果你想开发或理解一个程序设计，最好的方式是将 <em>objects</em> 想象成 "<code>service providers</code>" 。你的程序通过调用提供服务的 <em>object</em> 来为用户提供服务。所以编程者只需要编写一系统提供服务的 <em>object</em> 即可。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_hidden_implementation"><a class="anchor" href="#_the_hidden_implementation"></a>4. The hidden implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>隐藏具体实现可以减少程序bug。通过访问控制来达到这个目标。
<em>Java</em> 使用了3个明确的访问修饰符 <strong><em>public</em></strong> <strong><em>private</em></strong> <strong><em>protected</em></strong> 来做访问控制。</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">public</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">所有人可以访问</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">private</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">只自己可以访问</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">protected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">子类可以访问</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">同一包内可以访问</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_reusing_the_implementation"><a class="anchor" href="#_reusing_the_implementation"></a>5. Reusing the implementation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>优先使用组合来达到复用的目的，其次再考虑继承。组合更能弹性扩展。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inheritance"><a class="anchor" href="#_inheritance"></a>6. Inheritance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>继承好处，父类中的成员或方法改变，子类使用时也会改变。子类可以添加自己独特的方法或者重写父类已有的方法。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_is_a_vs_is_like_a_relationships"><a class="anchor" href="#_is_a_vs_is_like_a_relationships"></a>7. Is-a vs. is-like-a relationships</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Is-a 通常指的是继承关系， is-like-a 则指继承后在子类添加了新的方法。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/is_a.png" alt="is a">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interchangeable_objects_with_polymorphism"><a class="anchor" href="#_interchangeable_objects_with_polymorphism"></a>8. Interchangeable objects with polymorphism</h2>
<div class="sectionbody">
<div class="paragraph">
<p>编码时，依赖于抽象类型，而非具体类型。多态时，会发生向上转换 <em>upcast</em> ，编译器编译时是以基类型进行编译的，而在运行时以具体子类型 <em>upcast</em> 再调用的。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_singly_rooted_hierarchy"><a class="anchor" href="#_the_singly_rooted_hierarchy"></a>9. The singly rooted hierarchy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>单根继承。所有的 <em>objects</em> 继承自基类 <strong><em>Object</em></strong> . 所有对象都是 <em>Object</em> 的好处就是，可以为所有的对象添加一些基本操作，也方便传参。</p>
</div>
<div class="paragraph">
<p>单根继承，可以让垃圾收集器实现起来更容易些。而且你从来都不会无法确定一个对象的类型，在异常处理等方面很有帮助。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_containers"><a class="anchor" href="#_containers"></a>10. Containers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>容器，即Array，List,Map之类的。</p>
</div>
<div class="sect2">
<h3 id="_parameterized_types_generics"><a class="anchor" href="#_parameterized_types_generics"></a>10.1. Parameterized types (generics)</h3>
<div class="paragraph">
<p>Java SE<sub>5</sub> 以前，容器只存储一个类型，即 <em>Object</em> 类型。因为所有类型都是 <em>Object</em> 类型的子类，所以容器就可以存储所有类型的对象。 这种情况就会出现 <em>upcast</em> 和 <em>downcasting</em> 的情况，即装箱和拆箱。</p>
</div>
<div class="paragraph">
<p>此时如果 <em>downcasting</em> 错误后，就会出现运行时异常。</p>
</div>
<div class="paragraph">
<p>JavaSE<sub>5</sub> 中出现了参数化类型，称为泛型。容器在编译时即知道它所装的对象的类型。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">Shape</span>&gt; shapeList = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">Shape</span>&gt;();</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_object_creation_lifetime"><a class="anchor" href="#_object_creation_lifetime"></a>11. Object creation &amp; lifetime</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用 <em>gc</em> 来完成垃圾收集。而 <em>C++</em> 则需要手动释放。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_exception_handling_dealing_with_errors"><a class="anchor" href="#_exception_handling_dealing_with_errors"></a>12. Exception handling: dealing with errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>尽管异常处理中通常把异常表示为一个对象，但是异常处理并不是一个 <em>OOP</em> 的特征。异常处理出现地比 <em>OOP</em> 早。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_concurrent_programming"><a class="anchor" href="#_concurrent_programming"></a>13. Concurrent programming</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_everything_is_an_object" class="sect0"><a class="anchor" href="#_everything_is_an_object"></a>Everything Is an Object</h1>
<div class="openblock partintro">
<div class="content">
Although it is based on C++, Java is more of a “pure” object-oriented
language.
</div>
</div>
<div class="sect1">
<h2 id="_you_manipulate_objects_with_references"><a class="anchor" href="#_you_manipulate_objects_with_references"></a>14. You manipulate objects with references</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>objects</em> 的操作都是以引用进行操作的。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_you_must_create_all_the_objects"><a class="anchor" href="#_you_must_create_all_the_objects"></a>15. You must create all the objects</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> s = <span class="keyword">new</span> <span class="predefined-type">String</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">asdf</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_where_storage_lives"><a class="anchor" href="#_where_storage_lives"></a>15.1. Where storage lives</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Registers</strong>. 寄存器。存储读写速度快，因为它在处理器中。但是数量极其有限，所以这里的空间也是按需分配。你不能直接控制这里的空间分配，而且在程序中也感觉不到这片空间的存在。</p>
</li>
<li>
<p><strong>The Stack</strong>. 栈空间。这片区域在 <strong><em>RAM</em></strong> (<em>Random Access Memory</em>) 中，它可以从处理器中直接通过 <em>stack pointer</em> 进行控制。栈指针向下移动则分配空间，向上移动则释放那些已分配的空间。这是一个快速有效的分配存储方法，仅次于 <strong>Registers</strong> 。在创建程序时， <em>JAVA</em> 系统必须准确地知道存储在 <em>Stack</em> 中的每一项内容的生命周期，这会限制你的程序的扩展性。所以 <em>JAVA</em> 程序在 <em>Stack</em> 中存储的是对象的引用，而对象的存储则是在 <em>Heap</em> 中。</p>
</li>
<li>
<p><strong>The Heap</strong>. 堆空间。这是一个通用的内存池（也在 <em>RAM</em> 中），这里存储了所有的 <em>Java Objects</em> 。不像 <em>Stack</em> ，编译器不需要知道 <em>Heap</em> 中的对象需要在 <em>Heap</em> 中生存多久。因此，在 <em>Heap</em> 上存储将会很有扩展性。在 <em>Heap</em> 上分配空间，只需要 <em>new</em> 一下就 <em>Ok</em> 了。当然，这种很好的扩展性也是有代价的，比 <em>stack</em> 在分配和清理空间时需要更多的时间。</p>
</li>
<li>
<p><strong>Constant storage</strong>. 常量存储(常量池)。常量值通常直接存放在程序代码中，因为它的值永远不会改变所以这是安全的。有时在嵌入式系统中，也会单独把常量值放在 <a href="http://baike.baidu.com/link?url=QAK3xw_Sh0jPOVMyJ3xQh-my_XBYIgRHZ_CRf0Ex99DxvypzwzZMr4Yn9-9QqxNPHSnR4yeyUxfsGY1fbASTua"> <em>ROM</em> </a> 中。</p>
</li>
<li>
<p><strong>Non-RAM storage</strong>. 非 <em>RAM</em> 存储。如果数据可以独立于程序存储，那么它就可以在程序没有运行时存在。这其中主要的两个例子是 <strong>流对象</strong> 和 <strong>持久化对象</strong> 。 <em>Stream Objects</em> 通常被转换为 <em>bytes</em> 然后传输给其它的机器。 <em>persistent objects</em> 通常是将对象及其状态存储到硬盘上。</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_special_case_primitive_types"><a class="anchor" href="#_special_case_primitive_types"></a>15.2. Special case: primitive types</h3>
<div class="paragraph">
<p>基类型是存储在 <em>stack</em> 上的，它直接指向了其值。而 <em>new</em> 出来的对象是在 <em>heap</em> 上的，由 <em>stack</em> 上的 <em>reference</em> 指向 <em>heap</em> 上的 <em>object</em> 。</p>
</div>
<div class="paragraph">
<p><em>Java</em> 明确定义了每一种基类型的 <em>size</em> ，而且在不同的机器架构上，这个 <em>size</em> 都不会变。其它语言可能不是这样的哦。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/types.png" alt="types">
</div>
</div>
<div class="paragraph">
<p><strong>boolean</strong> 类型是没有明确指定 <em>size</em> 的，因为它只会有 <em>true</em> 和 <em>false</em> 两个字面量值。</p>
</div>
<div class="paragraph">
<p><strong>包装类型</strong> 是存储在 <em>heap</em> 上的对象，它是对应的 <strong>基类型</strong> 的对象表现形式。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">char</span> c = <span class="error">‘</span>x<span class="error">’</span>;
<span class="predefined-type">Character</span> ch = <span class="keyword">new</span> <span class="predefined-type">Character</span>(c);

<span class="predefined-type">Character</span> ch = <span class="keyword">new</span> <span class="predefined-type">Character</span>(<span class="error">‘</span>x<span class="error">’</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>JavaSE<sub>5</sub> 的自动装箱能自动将 <strong>基类型</strong> 转为 <strong>包装类型</strong>，也能自动将 <strong>包装类型</strong> 转为 <strong>基类型</strong> 。</p>
</div>
</div>
<div class="sect2">
<h3 id="_high_precision_numbers"><a class="anchor" href="#_high_precision_numbers"></a>15.3. High-precision numbers</h3>
<div class="paragraph">
<p><em>Java</em> 提供了高精确的两种类型。 <strong><em>BigInteger</em></strong> 和 <strong><em>BigDecimal</em></strong></p>
</div>
<div class="paragraph">
<p><strong><em>BigInteger</em></strong> 支持任意精度的整数</p>
</div>
<div class="paragraph">
<p><strong><em>BigDecimal</em></strong> 可以支持货币运算</p>
</div>
</div>
<div class="sect2">
<h3 id="_arrays_in_java"><a class="anchor" href="#_arrays_in_java"></a>15.4. Arrays in Java</h3>
<div class="paragraph">
<p><em>Java</em> 中的数组是不能越界访问的，相对于 <em>C</em> 和 <em>C++</em> 是非常安全的。为了确保这种数组的范围检查，这需要在每一个数组上有一点额外的内存开销用于在运行时验证 <em>position</em> 。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Integer</span><span class="type">[]</span> arr = <span class="keyword">new</span> <span class="predefined-type">Integer</span>[<span class="integer">5</span>]; <i class="conum" data-value="1"></i><b>(1)</b>
<span class="type">int</span> <span class="type">[]</span> arr2 = <span class="keyword">new</span> <span class="type">int</span>[<span class="integer">5</span>]; <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>初始化数组后，其中存储的全是空引用。即引用指向了 <em>null</em> 。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>将使用 <em>int</em> 的默认值进行初始化。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_you_never_need_to_destroy_an_object"><a class="anchor" href="#_you_never_need_to_destroy_an_object"></a>16. You never need to destroy an object</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Java</em> 简化了对象销毁操作，不再需要手动释放。</p>
</div>
<div class="sect2">
<h3 id="_scoping"><a class="anchor" href="#_scoping"></a>16.1. Scoping</h3>
<div class="paragraph">
<p>大多数程序语言都有一个 <em>scope</em> 的概念。 <em>scope</em> 也就决定了定义在 <em>scope</em> 中的变量的可见性与有效期。<em>Java</em> 中 <em>scope</em> 使用 <code>{}</code> 来定义。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">{
  <span class="type">int</span> x = <span class="integer">12</span>;
  <span class="comment">// Only x available</span>
  {
    <span class="type">int</span> q = <span class="integer">96</span>;
    <span class="comment">// Both x &amp; q available</span>
  }
  <span class="comment">// Only x available</span>
  <span class="comment">// q is &quot;out of scope&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scope_of_objects"><a class="anchor" href="#_scope_of_objects"></a>16.2. Scope of objects</h3>
<div class="paragraph">
<p><em>Java Objects</em> 的生命周期并不同于普通的基类型。</p>
</div>
<div class="listingblock">
<div class="title">example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">{
  <span class="predefined-type">String</span> s = <span class="keyword">new</span> <span class="predefined-type">String</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">a string</span><span class="delimiter">&quot;</span></span>);
} <span class="comment">// End Of Scope</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>引用 <em>s</em> 会在这个 <em>scope</em> 结束后消失。然后这个 <em>String</em> 对象却不会立即消失，它将存放在  <em>memory</em> 中。</p>
</div>
<div class="paragraph">
<p><em>Java</em> 使用 <em>garbage collector</em> 来回收 <em>Object</em> 。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_new_data_types_class"><a class="anchor" href="#_creating_new_data_types_class"></a>17. Creating new data types: class</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用 <em>class</em> 关键字来创建一个类。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">ATypeName</span> { <span class="comment">/* Class body goes here */</span> }</code></pre>
</div>
</div>
<div class="paragraph">
<p>创建了类后，可以使用 <em>new</em> 创建该类的对象</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ATypeName a = <span class="keyword">new</span> ATypeName();</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_fields_and_methods"><a class="anchor" href="#_fields_and_methods"></a>17.1. Fields and methods</h3>
<div class="paragraph">
<p>定义了一个 <em>class</em> 后，你可以添加 <em>fileds</em> 与 <em>methods</em> 到 <em>class</em> 中。</p>
</div>
<div class="paragraph">
<p>每一个 <em>object</em> 都单独存储它的 <em>fields</em> ，而且普通的 <em>fileds</em> 是不会在各个 <em>objects</em> 之间进行共享的。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">DataOnly</span> {
  <span class="type">int</span> i;
  <span class="type">double</span> d;
  <span class="type">boolean</span> b;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">引用成员变量</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">DataOnly data = <span class="keyword">new</span> DataOnly();
data.i = <span class="integer">47</span>;
data.d = <span class="float">1.1</span>;
data.b = <span class="predefined-constant">false</span>;</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_methods_arguments_and_return_values"><a class="anchor" href="#_methods_arguments_and_return_values"></a>18. Methods, arguments, and return values</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ReturnType methodName( <span class="comment">/* Argument list */</span> ) {
  <span class="comment">/* Method body */</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>除静态方法外， <em>method</em> 只能被 <em>object</em> 调用。<em>static method</em> 可以被 <em>class</em> 调用。</p>
</div>
<div class="sect2">
<h3 id="_the_argument_list"><a class="anchor" href="#_the_argument_list"></a>18.1. The argument list</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> storage(<span class="predefined-type">String</span> s) { <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">return</span> s.length() * <span class="integer">2</span>; <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>传入的参数列表</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>返回值，为表达式则为计算后的值。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_a_java_program"><a class="anchor" href="#_building_a_java_program"></a>19. Building a Java program</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在构建一个 <em>java program</em> 之前需要理解一些概念。</p>
</div>
<div class="sect2">
<h3 id="_name_visibility"><a class="anchor" href="#_name_visibility"></a>19.1. Name Visibility</h3>
<div class="paragraph">
<p>为了避免命令重复， <em>java</em> 使用完全限定名： <code>packagename + class name</code> 。 <em>package name</em> 通常为域名的倒写。例如 <code>com.dameng.core</code> ，且包名只能小写。</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_other_components"><a class="anchor" href="#_using_other_components"></a>19.2. Using other components</h3>
<div class="paragraph">
<p>使用 <em>import</em> 关键字可以引用其它的包。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.util.ArrayList</span>; <i class="conum" data-value="1"></i><b>(1)</b>

<span class="keyword">import</span> <span class="include">java.util</span>.*; <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>完全限定名引用一个类</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>引用 <em>java.util.*</em> 下的所有类</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_the_strong_static_strong_keyword"><a class="anchor" href="#_the_strong_static_strong_keyword"></a>19.3. The <strong>static</strong> keyword</h3>
<div class="paragraph">
<p>一般情况下，使用 <em>new</em> 来创建一个对象，此时就会分配一个单独的空间给该对象。有时并不需要说非得要 <em>new</em> 一个对象才能使用某一个特定的 <em>filed</em> 或者 <em>method</em> 。此时就需要使用 <em>static</em> 关键字了。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">StaticTest</span> {
  <span class="directive">static</span> <span class="type">int</span> i = <span class="integer">47</span>;
}

StaticTest st1 = <span class="keyword">new</span> StaticTest(); <i class="conum" data-value="1"></i><b>(1)</b>
StaticTest st2 = <span class="keyword">new</span> StaticTest();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>哪怕创建多个 <em>StaticTest</em> 的对象，也只会为静态的 <em>field</em> <em>i</em> 分配一份内存空间。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_your_first_java_program"><a class="anchor" href="#_your_first_java_program"></a>20. Your first Java program</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">first java program</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// HelloDate.java</span>
<span class="keyword">import</span> <span class="include">java.util</span>.*;
<span class="directive">public</span> <span class="type">class</span> <span class="class">HelloDate</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello, it’s: </span><span class="delimiter">&quot;</span></span>);
    <span class="predefined-type">System</span>.out.println(<span class="keyword">new</span> <span class="predefined-type">Date</span>()); <i class="conum" data-value="1"></i><b>(1)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>将 <em>new</em> 出的 <em>date</em> 对象转换为 <em>String</em> 再输出。</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>默认情况下，所有的 <em>java</em> 文件，都会自动导入 <em>java.lang</em> 包，哪怕你没有显示地指定。所以你可以不导 <em>java.lang</em> 包就能使用 <em>System</em> 类了。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">main 方法说明</div>
<div class="listingblock">
<div class="title">main method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
  <span class="comment">// method body</span>
}</code></pre>
</div>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
public
</td>
<td class="hdlist2">
<p>访问修饰符，必须为 <strong>public</strong> 。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
static
</td>
<td class="hdlist2">
<p>静态修饰符，必须为 <strong>static</strong> 。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
void
</td>
<td class="hdlist2">
<p>返回类型</p>
</td>
</tr>
<tr>
<td class="hdlist1">
main
</td>
<td class="hdlist2">
<p>方法名称，必须为 <strong>main</strong> 。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
args
</td>
<td class="hdlist2">
<p>参数列表，这里指接受的 <em>command line</em> 的参数。</p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compiling_and_running"><a class="anchor" href="#_compiling_and_running"></a>21. Compiling and running</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">javac HelloDate.java
java HelloDate</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_comments_and_embedded_documentation"><a class="anchor" href="#_comments_and_embedded_documentation"></a>22. Comments and embedded documentation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">/* This is a comment
* that continues
* across lines
*/</span>   <i class="conum" data-value="1"></i><b>(1)</b>

<span class="comment">// This is a one-line comment </span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>多行注释</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>单行注释</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_comment_documentation"><a class="anchor" href="#_comment_documentation"></a>22.1. Comment documentation</h3>
<div class="paragraph">
<p>使用 <em>javadoc</em> 命令可以提取出文档注释。</p>
</div>
</div>
<div class="sect2">
<h3 id="_some_example_tags"><a class="anchor" href="#_some_example_tags"></a>22.2. Some example tags</h3>
<div class="paragraph">
<p>@See</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@see</span> classname
<span class="annotation">@see</span> fully-qualified-classname
<span class="annotation">@see</span> fully-qualified-classname<span class="error">#</span>method-name</code></pre>
</div>
</div>
<div class="paragraph">
<p>{@link package.class#member label}</p>
</div>
<div class="paragraph">
<p>{@docRoot}</p>
</div>
<div class="paragraph">
<p>{@inheritDoc}</p>
</div>
<div class="paragraph">
<p>@version</p>
</div>
<div class="paragraph">
<p>@author</p>
</div>
<div class="paragraph">
<p>@since</p>
</div>
<div class="paragraph">
<p>@param</p>
</div>
<div class="paragraph">
<p>@return</p>
</div>
<div class="paragraph">
<p>@throws</p>
</div>
<div class="paragraph">
<p>@deprecated</p>
</div>
</div>
</div>
</div>
<h1 id="_operators" class="sect0"><a class="anchor" href="#_operators"></a>Operators</h1>
<div class="sect1">
<h2 id="_simpler_print_statements"><a class="anchor" href="#_simpler_print_statements"></a>23. Simpler print statements</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Rather a lot to type</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_java_operators"><a class="anchor" href="#_using_java_operators"></a>24. Using Java operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>几乎所有的操作符只适用于基本类型，只有 <code>=</code> <code>==</code> <code>!=</code> 是适用于 <em>objects</em> 的。另外 <em>String</em> 支持 <code>+</code> 和 <code>+=</code> 。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_precedence"><a class="anchor" href="#_precedence"></a>25. Precedence</h2>
<div class="sectionbody">
<div class="paragraph">
<p>操作符优先级定义了当多个操作符出现在同一表达式中时运行的先后顺序。 <em>Java</em> 有特殊的规则来定义操作符计算顺序，这其中最简单的一个规则就是 <code>*</code> 和 <code>/</code> 比 <code>+</code> 和 <code>-</code> 的优先级高。所以通常使用 <code>()</code> 来保证优先级。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/Precedence.java</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Precedence</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">int</span> x = <span class="integer">1</span>, y = <span class="integer">2</span>, z = <span class="integer">3</span>;
    <span class="type">int</span> a = x + y - <span class="integer">2</span>/<span class="integer">2</span> + z; <span class="comment">// (1)</span>
    <span class="type">int</span> b = x + (y - <span class="integer">2</span>)/(<span class="integer">2</span> + z); <span class="comment">// (2)</span>
    <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">a = </span><span class="delimiter">&quot;</span></span> + a + <span class="string"><span class="delimiter">&quot;</span><span class="content"> b = </span><span class="delimiter">&quot;</span></span> + b); <i class="conum" data-value="1"></i><b>(1)</b>
  }
} <span class="comment">/* Output:
a = 5 b = 1
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>将 <code>int</code> 类型的 <em>a</em> 和 <em>b</em> 转换为了 <code>String</code> 类型，再进行字符串拼接。</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>System.out.println();</code> 中使用了 <code>+</code> ，这里在字符串中 <code>+</code> 就是追加的意思。另外，当编译器看到一个 <strong>String</strong> 后面和一个 <strong>非String</strong> 使用 <code>+</code> 进行连接的时候，它会把 <strong>非String</strong> 转换为 <strong>String</strong> 再进行字符串拼接操作。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_assignment"><a class="anchor" href="#_assignment"></a>26. Assignment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>赋值操作是使用 <code>=</code> 操作符完成的，它的意思就是把 <code>=</code> 右边的值 <em>copy</em> 给左侧的变量。右边的值可以是 <em>constant</em> , <em>variable</em> , <em>expression</em> ，如果为静态式或变量均是计算后的值。</p>
</div>
<div class="listingblock">
<div class="title">分配常量值给变量</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">a = <span class="integer">4</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>为变量赋基本类型的值是相当容易的，因为基本类型是持有其真实的值而非一个 <strong>对象的引用</strong> 。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">a = <span class="integer">4</span>;
b = a; <i class="conum" data-value="1"></i><b>(1)</b>

b = <span class="integer">5</span>; <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>就是直接把基本类型值 <code>4</code> <em>copy</em> 给变量 <em>b</em> 。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>当改变变量 <em>b</em> 的值的时候不会影响变量 <em>a</em> 的值。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">引用复制</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/Assignment.java</span>
<span class="comment">// Assignment with objects is a bit tricky.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="type">class</span> <span class="class">Tank</span> {
        <span class="type">int</span> level;
}
<span class="directive">public</span> <span class="type">class</span> <span class="class">Assignment</span> {
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                Tank t1 = <span class="keyword">new</span> Tank();
                Tank t2 = <span class="keyword">new</span> Tank();
                t1.level = <span class="integer">9</span>;
                t2.level = <span class="integer">47</span>;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">1: t1.level: </span><span class="delimiter">&quot;</span></span> + t1.level +
                        <span class="string"><span class="delimiter">&quot;</span><span class="content">, t2.level: </span><span class="delimiter">&quot;</span></span> + t2.level);
                t1 = t2;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">2: t1.level: </span><span class="delimiter">&quot;</span></span> + t1.level +
                        <span class="string"><span class="delimiter">&quot;</span><span class="content">, t2.level: </span><span class="delimiter">&quot;</span></span> + t2.level);
                t1.level = <span class="integer">27</span>;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">3: t1.level: </span><span class="delimiter">&quot;</span></span> + t1.level +
                        <span class="string"><span class="delimiter">&quot;</span><span class="content">, t2.level: </span><span class="delimiter">&quot;</span></span> + t2.level);
        }
} <span class="comment">/* Output:
1: t1.level: 9, t2.level: 47  <i class="conum" data-value="1"></i><b>(1)</b>
2: t1.level: 47, t2.level: 47 <i class="conum" data-value="2"></i><b>(2)</b>
3: t1.level: 27, t2.level: 27 <i class="conum" data-value="3"></i><b>(3)</b>
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>直接为基本类型 <em>field</em> 赋值</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>引用赋值 <code>t1 = t2;</code> ，两个引用指向同一个 <em>object</em> ，所以输出结果一样。</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>使用任一引用 <code>t1</code> 改变 <em>field</em> 值，此时改变的就是具体的 <em>object</em> 的 <em>field</em> 值。而 <code>t2</code> 也引用了同一个 <em>object</em> ，所以输出结果相同。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>上述这种引用复制也称为 <strong><em>aliasing</em></strong></p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aliasing_during_method_calls"><a class="anchor" href="#_aliasing_during_method_calls"></a>27. Aliasing during method calls</h2>
<div class="sectionbody">
<div class="paragraph">
<p>将一个 <em>object</em> 作为 <em>parameter</em> 传递入一个 <em>method</em> 时也会发生 <strong><em>aliasing</em></strong> 。</p>
</div>
<div class="listingblock">
<div class="title">Aliasing during method calls</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/PassObject.java</span>
<span class="comment">// Passing objects to methods may not be</span>
<span class="comment">// what you’re used to.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="type">class</span> <span class="class">Letter</span> {
        <span class="type">char</span> c;
}
<span class="directive">public</span> <span class="type">class</span> <span class="class">PassObject</span> {
        <span class="directive">static</span> <span class="type">void</span> f(Letter y) {
                y.c = <span class="string"><span class="delimiter">'</span><span class="content">z</span><span class="delimiter">'</span></span>;
        }
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                Letter x = <span class="keyword">new</span> Letter();
                x.c = <span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">1: x.c: </span><span class="delimiter">&quot;</span></span> + x.c);
                f(x); <i class="conum" data-value="1"></i><b>(1)</b>
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">2: x.c: </span><span class="delimiter">&quot;</span></span> + x.c);
        }
} <span class="comment">/* Output:
1: x.c: a
2: x.c: z
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>在调用方法 <code>f(x)</code> 时，实际上是把引用 <em>x</em> 作为参数传递给了方法 <em>f()</em> 的形参 <em>y</em> 。此时就是一个引用复制，即 <code>y=x</code> 。</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mathematical_operators"><a class="anchor" href="#_mathematical_operators"></a>28. Mathematical operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>基本的数学操作符就是。</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">operator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>+</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">加号</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>-</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">减号</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>*</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">乘号</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>/</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">除号</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><kbd>%</kbd></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">取模</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">基本操作示例</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/MathOps.java</span>
<span class="comment">// Demonstrates the mathematical operators.</span>
<span class="keyword">import</span> <span class="include">java.util</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="directive">public</span> <span class="type">class</span> <span class="class">MathOps</span> {
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                <span class="comment">// Create a seeded random number generator:</span>
                <span class="predefined-type">Random</span> rand = <span class="keyword">new</span> <span class="predefined-type">Random</span>(<span class="integer">47</span>);
                <span class="type">int</span> i, j, k;
                <span class="comment">// Choose value from 1 to 100:</span>
                j = rand.nextInt(<span class="integer">100</span>) + <span class="integer">1</span>;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">j : </span><span class="delimiter">&quot;</span></span> + j);
                k = rand.nextInt(<span class="integer">100</span>) + <span class="integer">1</span>;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">k : </span><span class="delimiter">&quot;</span></span> + k);
                i = j + k;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">j + k : </span><span class="delimiter">&quot;</span></span> + i);
                i = j - k;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">j - k : </span><span class="delimiter">&quot;</span></span> + i);
                i = k / j;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">k / j : </span><span class="delimiter">&quot;</span></span> + i);
                i = k * j;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">k * j : </span><span class="delimiter">&quot;</span></span> + i);
                i = k % j;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">k % j : </span><span class="delimiter">&quot;</span></span> + i);
                j %= k;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">j %= k : </span><span class="delimiter">&quot;</span></span> + j);
                <span class="comment">// Floating-point number tests:</span>
                <span class="type">float</span> u, v, w; <span class="comment">// Applies to doubles, too</span>
                v = rand.nextFloat();
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">v : </span><span class="delimiter">&quot;</span></span> + v);
                w = rand.nextFloat();
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">w : </span><span class="delimiter">&quot;</span></span> + w);
                u = v + w;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">v + w : </span><span class="delimiter">&quot;</span></span> + u);
                u = v - w;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">v - w : </span><span class="delimiter">&quot;</span></span> + u);
                u = v * w;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">v * w : </span><span class="delimiter">&quot;</span></span> + u);
                u = v / w;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">v / w : </span><span class="delimiter">&quot;</span></span> + u);
                <span class="comment">// The following also works for char,</span>
                <span class="comment">// byte, short, int, long, and double:</span>
                Operators <span class="integer">67</span>
                <span class="integer">68</span> Thinking in Java Bruce Eckel
                u += v;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">u += v : </span><span class="delimiter">&quot;</span></span> + u);
                u -= v;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">u -= v : </span><span class="delimiter">&quot;</span></span> + u);
                u *= v;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">u *= v : </span><span class="delimiter">&quot;</span></span> + u);
                u /= v;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">u /= v : </span><span class="delimiter">&quot;</span></span> + u);
        }
} <span class="comment">/* Output:
j : 59
k : 56
j + k : 115
j - k : 3
k / j : 0
k * j : 3304
k % j : 56
j %= k : 3
v : 0.5309454
w : 0.0534122
v + w : 0.5843576
v - w : 0.47753322
v * w : 0.028358962
v / w : 9.940527
u += v : 10.471473
u -= v : 9.940527
u *= v : 5.2778773
u /= v : 9.940527
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unary_minus_and_plus_operators"><a class="anchor" href="#_unary_minus_and_plus_operators"></a>29. Unary minus and plus operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>一元操作符， <code>+</code> 和 <code>-</code> 。其实一元的 <code>+</code> 和 <code>-</code> 同二元的在运算上没有什么区别。编译器根据你填写的表达式认定你的是一元的还是二元的。</p>
</div>
<div class="listingblock">
<div class="title">minus and plus operators</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">x = -a; <i class="conum" data-value="1"></i><b>(1)</b>

x = a * -b; <i class="conum" data-value="2"></i><b>(2)</b>

x = a * (-b); <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>很明显的一元操作符。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>这种写法会让人困惑，所以通常是第3种写法。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>一元的 <code>+</code> 没什么用，这里只是为了与一元的 <code>-</code> 对称引进来的。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_auto_increment_and_decrement"><a class="anchor" href="#_auto_increment_and_decrement"></a>30. Auto increment and decrement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>自加自减操作符。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>++</code> 自加1</p>
</li>
<li>
<p><code>--</code> 自减1</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">operator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">desc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">解释</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">++a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-increment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">先自加1，再进行运算</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a++</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-increment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">先运算，再自加1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">--a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pre-decrement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">先自减1，再运算</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">a--</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">post-decrement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">先运算，再自减1</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">auto increment and decrement example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/AutoInc.java</span>
<span class="comment">// Demonstrates the ++ and -- operators.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="directive">public</span> <span class="type">class</span> <span class="class">AutoInc</span> {
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                <span class="type">int</span> i = <span class="integer">1</span>;
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i : </span><span class="delimiter">&quot;</span></span> + i);
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">++i : </span><span class="delimiter">&quot;</span></span> + ++i); <span class="comment">// Pre-increment</span>
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i++ : </span><span class="delimiter">&quot;</span></span> + i++); <span class="comment">// Post-increment</span>
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i : </span><span class="delimiter">&quot;</span></span> + i);
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">--i : </span><span class="delimiter">&quot;</span></span> + --i); <span class="comment">// Pre-decrement</span>
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i-- : </span><span class="delimiter">&quot;</span></span> + i--); <span class="comment">// Post-decrement</span>
                print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i : </span><span class="delimiter">&quot;</span></span> + i);
        }
} <span class="comment">/* Output:
i : 1
++i : 2
i++ : 2
i : 3
--i : 2
i-- : 2
i : 1
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">小段子</div>
<div class="paragraph">
<p>Bill Joy (one of the Java creators) 曾经说 <code>java=C</code><code><code>+--</code>，意思是 <em>java</em> 是 C</code>+ 减去一部分不必要且复杂的东西。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_relational_operators"><a class="anchor" href="#_relational_operators"></a>31. Relational operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>比较操作符都会产生一个 <em>boolean</em> 类型的结果值。比较操作符都有</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&lt;   小于</p>
</li>
<li>
<p>&gt;   大于</p>
</li>
<li>
<p>&lt;= 小于等于</p>
</li>
<li>
<p>&gt;=  大于等于</p>
</li>
<li>
<p>==  等于</p>
</li>
<li>
<p>!=  不等于</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>==</code> 和 <code>!=</code> 适用于所有的基本类型，但是其它几个操作符除了 <em>boolean</em> 类型的不适用外其它基本类型都适用。因为 <code>true &gt;= false</code> 这种是没有任何意义的。</p>
</div>
<div class="sect2">
<h3 id="_testing_object_equivalence"><a class="anchor" href="#_testing_object_equivalence"></a>31.1. Testing object equivalence</h3>
<div class="paragraph">
<p><code>==</code> 和 <code>!=</code> 适用于所有的 <em>objects</em> ，但是其意义是不一样的。</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">operator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">所有对象</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基本类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==`和</code>!=`</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">适用，只比较引用</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">适用，比较值</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">适用，默认比较引用，覆写该方法后才能比较具体值。默认String及其它包装类覆写了equals方法</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">不适用</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">compare object with == !=</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/Equivalence.java</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Equivalence</span> {
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                <span class="predefined-type">Integer</span> n1 = <span class="keyword">new</span> <span class="predefined-type">Integer</span>(<span class="integer">47</span>);
                <span class="predefined-type">Integer</span> n2 = <span class="keyword">new</span> <span class="predefined-type">Integer</span>(<span class="integer">47</span>);
                <span class="predefined-type">System</span>.out.println(n1 == n2); <i class="conum" data-value="1"></i><b>(1)</b>
                <span class="predefined-type">System</span>.out.println(n1 != n2);
        }
} <span class="comment">/* Output:
false
true
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>只比较栈中的对象引用的值（真实对象的内存地址）是否相等。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">compare object with equals</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/EqualsMethod.java</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">EqualsMethod</span> {
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                <span class="predefined-type">Integer</span> n1 = <span class="keyword">new</span> <span class="predefined-type">Integer</span>(<span class="integer">47</span>);
                <span class="predefined-type">Integer</span> n2 = <span class="keyword">new</span> <span class="predefined-type">Integer</span>(<span class="integer">47</span>);
                <span class="predefined-type">System</span>.out.println(n1.equals(n2));
                <span class="integer">70</span> Thinking in Java Bruce Eckel
        }
} <span class="comment">/* Output:
true
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">compare object with equals 2</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/EqualsMethod2.java</span>
<span class="comment">// Default equals() does not compare contents.</span>
<span class="type">class</span> <span class="class">Value</span> {
        <span class="type">int</span> i;
}
<span class="directive">public</span> <span class="type">class</span> <span class="class">EqualsMethod2</span> {
        <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
                Value v1 = <span class="keyword">new</span> Value();
                Value v2 = <span class="keyword">new</span> Value();
                v1.i = v2.i = <span class="integer">100</span>;
                <span class="predefined-type">System</span>.out.println(v1.equals(v2)); <i class="conum" data-value="1"></i><b>(1)</b>
        }
} <span class="comment">/* Output:
false
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>类 <em>Value</em> 需要自己 <em>override</em> <strong><em>equals()</em></strong> 方法，否则类 <strong><em>Object</em></strong> 中的 <em>equals</em> 方法默认是直接使用 <code>==</code> 比较引用。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_logical_operators"><a class="anchor" href="#_logical_operators"></a>32. Logical operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>每一个逻辑关系符 <em>AND</em> (&amp;&amp;) <em>OR</em> (||) <em>NOT</em> (!) 都会基于其参数产生一个 <em>boolean</em> 值。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/Bool.java</span>
<span class="comment">// Relational and logical operators.</span>
<span class="keyword">import</span> <span class="include">java.util</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="directive">public</span> <span class="type">class</span> <span class="class">Bool</span> {
<span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="predefined-type">Random</span> rand = <span class="keyword">new</span> <span class="predefined-type">Random</span>(<span class="integer">47</span>);
        <span class="type">int</span> i = rand.nextInt(<span class="integer">100</span>);
        <span class="type">int</span> j = rand.nextInt(<span class="integer">100</span>);
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i = </span><span class="delimiter">&quot;</span></span> + i);
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">j = </span><span class="delimiter">&quot;</span></span> + j);
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i &gt; j is </span><span class="delimiter">&quot;</span></span> + (i &gt; j));
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i &lt; j is </span><span class="delimiter">&quot;</span></span> + (i &lt; j));
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i &gt;= j is </span><span class="delimiter">&quot;</span></span> + (i &gt;= j));
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i &lt;= j is </span><span class="delimiter">&quot;</span></span> + (i &lt;= j));
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i == j is </span><span class="delimiter">&quot;</span></span> + (i == j));
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i != j is </span><span class="delimiter">&quot;</span></span> + (i != j));
<span class="comment">// Treating an int as a boolean is not legal Java:</span>
<span class="comment">//! print(&quot;i &amp;&amp; j is &quot; + (i &amp;&amp; j));</span>
<span class="comment">//! print(&quot;i || j is &quot; + (i || j));</span>
<span class="comment">//! print(&quot;!i is &quot; + !i);</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">(i &lt; 10) &amp;&amp; (j &lt; 10) is </span><span class="delimiter">&quot;</span></span>
              + ((i &lt; <span class="integer">10</span>) &amp;&amp; (j &lt; <span class="integer">10</span>)) );
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">(i &lt; 10) || (j &lt; 10) is </span><span class="delimiter">&quot;</span></span>
              + ((i &lt; <span class="integer">10</span>) || (j &lt; <span class="integer">10</span>)) );
}
} <span class="comment">/* Output:
     i = 58
     j = 55
     i &gt; j is true
     i &lt; j is false
     i &gt;= j is true
     i &lt;= j is false
     i == j is false
     i != j is true
     (i &lt; 10) &amp;&amp; (j &lt; 10) is false
     (i &lt; 10) || (j &lt; 10) is false
   */</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>boolean</em> 值在与 <em>String</em> 拼接时会转换为对应的字符串。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_short_circuiting"><a class="anchor" href="#_short_circuiting"></a>32.1. Short-circuiting</h3>
<div class="paragraph">
<p>使用逻辑操作符时，可能会遇到 <em>Short-circuiting</em> （短路）的情况。</p>
</div>
<div class="listingblock">
<div class="title">Short-circuiting example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/ShortCircuit.java</span>
<span class="comment">// Demonstrates short-circuiting behavior</span>
<span class="comment">// with logical operators.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="integer">72</span> Thinking in Java Bruce Eckel
<span class="directive">public</span> <span class="type">class</span> <span class="class">ShortCircuit</span> {
<span class="directive">static</span> <span class="type">boolean</span> test1(<span class="type">int</span> val) {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">test1(</span><span class="delimiter">&quot;</span></span> + val + <span class="string"><span class="delimiter">&quot;</span><span class="content">)</span><span class="delimiter">&quot;</span></span>);
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">result: </span><span class="delimiter">&quot;</span></span> + (val &lt; <span class="integer">1</span>));
        <span class="keyword">return</span> val &lt; <span class="integer">1</span>;
}
<span class="directive">static</span> <span class="type">boolean</span> test2(<span class="type">int</span> val) {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">test2(</span><span class="delimiter">&quot;</span></span> + val + <span class="string"><span class="delimiter">&quot;</span><span class="content">)</span><span class="delimiter">&quot;</span></span>);
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">result: </span><span class="delimiter">&quot;</span></span> + (val &lt; <span class="integer">2</span>));
        <span class="keyword">return</span> val &lt; <span class="integer">2</span>;
}
<span class="directive">static</span> <span class="type">boolean</span> test3(<span class="type">int</span> val) {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">test3(</span><span class="delimiter">&quot;</span></span> + val + <span class="string"><span class="delimiter">&quot;</span><span class="content">)</span><span class="delimiter">&quot;</span></span>);
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">result: </span><span class="delimiter">&quot;</span></span> + (val &lt; <span class="integer">3</span>));
        <span class="keyword">return</span> val &lt; <span class="integer">3</span>;
}
<span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="type">boolean</span> b = test1(<span class="integer">0</span>) &amp;&amp; test2(<span class="integer">2</span>) &amp;&amp; test3(<span class="integer">2</span>); <i class="conum" data-value="1"></i><b>(1)</b>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">expression is </span><span class="delimiter">&quot;</span></span> + b);
}
} <span class="comment">/* Output:
     test1(0)
     result: true
     test2(2)
     result: false
     expression is false
   */</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>出现了短路现象， <code>_test3(2)_</code> 是没有被计算的。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>_test1(0)_</code> 是 <em>true</em> ， <code>_test2(2)_</code> 是 <em>false</em> ， <code>true&amp;&amp;false</code> 那么整个表达式也就是 <em>false</em> ，所以就没必要计算 <code>_test3(2)_</code> 了。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_literals"><a class="anchor" href="#_literals"></a>33. Literals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>通常情况下，在程序中指定了一个常量值时，编译器是明确知道它的类型的。但是有时还是含糊不清的，这时就需要通过在常量值后面添加后缀来明确地告诉编译器该常量的类型。</p>
</div>
<div class="listingblock">
<div class="title">example of Literals</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: operators/Literals.java</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="directive">public</span> <span class="type">class</span> <span class="class">Literals</span> {
<span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="type">int</span> i1 = <span class="hex">0x2f</span>; <span class="comment">// Hexadecimal (lowercase)</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i1: </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(i1));
        <span class="type">int</span> i2 = <span class="hex">0X2F</span>; <span class="comment">// Hexadecimal (uppercase)</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i2: </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(i2));
        <span class="type">int</span> i3 = <span class="octal">0177</span>; <span class="comment">// Octal (leading zero)</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i3: </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(i3));
        <span class="type">char</span> c = <span class="hex">0xffff</span>; <span class="comment">// max char hex value</span>
        Operators <span class="integer">73</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">c: </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(c));
        <span class="type">byte</span> b = <span class="hex">0x7f</span>; <span class="comment">// max byte hex value</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">b: </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b));
        <span class="type">short</span> s = <span class="hex">0x7fff</span>; <span class="comment">// max short hex value</span>
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">s: </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(s));
        <span class="type">long</span> n1 = <span class="integer">200L</span>; <span class="comment">// long suffix</span>
        <span class="type">long</span> n2 = <span class="integer">200l</span>; <span class="comment">// long suffix (but can be confusing)</span>
        <span class="type">long</span> n3 = <span class="integer">200</span>;
        <span class="type">float</span> f1 = <span class="integer">1</span>;
        <span class="type">float</span> f2 = <span class="float">1F</span>; <span class="comment">// float suffix</span>
        <span class="type">float</span> f3 = <span class="float">1f</span>; <span class="comment">// float suffix</span>
        <span class="type">double</span> d1 = <span class="float">1d</span>; <span class="comment">// double suffix</span>
        <span class="type">double</span> d2 = <span class="float">1D</span>; <span class="comment">// double suffix</span>
<span class="comment">// (Hex and Octal also work with long)</span>
}
} <span class="comment">/* Output:
     i1: 101111
     i2: 101111
     i3: 1111111
     c: 1111111111111111
     b: 1111111
     s: 111111111111111
   */</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Long</dt>
<dd>
<p>Long类型的后缀为 <code>l</code> 或者 <code>L</code></p>
</dd>
<dt class="hdlist1">Float</dt>
<dd>
<p>Float类型的后缀为 <code>f</code> 或者 <code>F</code></p>
</dd>
<dt class="hdlist1">Double</dt>
<dd>
<p>Double类型的后缀为 <code>d</code> 或者 <code>D</code></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>16 进制以 <code>0x</code> 开头， 8 进制以 <code>0</code> 开头。</p>
</div>
<div class="paragraph">
<p><code>Integer</code> 和 <code>Long</code> 类型分别有转换为二进制、十六进制、八进制形式字符串输出的方法：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/toBinaryString.png" alt="toBinaryString">
</div>
</div>
<div class="sect2">
<h3 id="_exponential_notation"><a class="anchor" href="#_exponential_notation"></a>33.1. Exponential notation</h3>
<div class="paragraph">
<p>指数</p>
</div>
<div class="listingblock">
<div class="title">Exponents</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/Exponents.java</span>
<span class="comment">// &quot;e&quot; means &quot;10 to the power.&quot;</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">Exponents</span> {
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="comment">// Uppercase and lowercase 'e' are the same:</span>
        <span class="type">float</span> expFloat = <span class="float">1.39e-43f</span>; <i class="conum" data-value="1"></i><b>(1)</b>
        expFloat = <span class="float">1.39E-43f</span>;
        <span class="predefined-type">System</span>.out.println(expFloat);
        <span class="type">double</span> expDouble = <span class="float">47e47d</span>; <span class="comment">// 'd' is optional</span>
        <span class="type">double</span> expDouble2 = <span class="float">47e47</span>; <span class="comment">// Automatically double</span>
        <span class="predefined-type">System</span>.out.println(expDouble);
        <span class="type">double</span> expDouble3 = <span class="float">2e2</span>; <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="predefined-type">System</span>.out.println(expDouble3);
    }
} <span class="comment">/* Output:
1.39E-43
4.7E48
200.0
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>1.39e-43f 即 1.39 * 10<sup>-43</sup></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>2e2 即 2 * 10<sup>2</sup> ，所以是 200.0 . 指数默认为 <em>double</em> 类型</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bitwise_operators"><a class="anchor" href="#_bitwise_operators"></a>34. Bitwise operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>按位操作符。 <em>Java</em> 最初设计这种语法是因为要嵌入电视机顶盒考虑的，所以这个还是尽量少用吧。</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">操作符</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">说明</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">And(&amp;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">与，当两数的位都是1时，则输出1，否则输出0；</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR(|)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">或，当两数的位中有一个是1时，则输出1。只有两数都是0时，才输出0；</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XOR(^)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">异或，两个操作数的位中，相同则结果为0，不同则结果为1。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT(~)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">非，只对一个操作数有效。如果位为0，结果是1，如果位为1，结果是0；</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>位操作符，可以与 <code>=</code> 在一起，完成位运算及赋值操作。由于 NOT(~) 是一元操作符，所以它玩不了。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&amp;=</p>
</li>
<li>
<p>|=</p>
</li>
<li>
<p>^=</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>boolean*是以一位来对待的，所以它会有些不同。可以对 *boolean</strong> 执行位与、或、异或，但是不能执行位非（可能是考虑会与逻辑非混淆）。</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>位与、或、异或会产生与逻辑操作符相同的效果，但是它不会出现 <em>short circuit</em> （短路）现象。</p>
</div>
<div class="listingblock">
<div class="title">example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">boolean</span> flag = test1(<span class="integer">0</span>) &amp; test2(<span class="integer">2</span>) &amp; test3(<span class="integer">2</span>); <i class="conum" data-value="1"></i><b>(1)</b>
print(<span class="string"><span class="delimiter">&quot;</span><span class="content">expression is </span><span class="delimiter">&quot;</span></span> + flag);

<span class="predefined-type">System</span>.out.println(<span class="predefined-constant">true</span>^<span class="predefined-constant">false</span>^<span class="predefined-constant">true</span>); <i class="conum" data-value="2"></i><b>(2)</b>
<span class="comment">/* output
test1(0)
result: true
test2(2)
result: false
test3(2)
result: true
expression is false
false
*/</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>三个表达式都将会被计算</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><em>XOR</em> 并没有逻辑操作符与之对象，不建议对 <em>boolean</em> 使用。</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>不能对 <em>boolean</em> 使用位移操作符。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_shift_operators"><a class="anchor" href="#_shift_operators"></a>35. Shift operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>位移操作符。位移操作符也可以操作位。它只能被用于基本类型，整形。</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">操作符</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">说明</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;&lt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将操作数左移指定位数，移出的位将被抛弃，右侧差的位则用0补齐。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">将操作数右移指定位数，为正高位补0，为负数高位补1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&gt;&gt;&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">无符号右移，无论正负，高位都补0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>详细操作见 <a href="http://blog.sina.com.cn/s/blog_439f80c40100n0hc.html">链接</a></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>一.int的是32位。long的是64位。
  如int i = 1;
  i的二进制原码表示为：
  00000000000000000000000000000001
  long l = 1;
  l的二进制原码表示为：   0000000000000000000000000000000000000000000000000000000000000001</p>
</div>
<div class="paragraph">
<p>二.原码——符号位为0表示正数，为1表示负数；
        其余各位等同于真值的绝对值。
 如：0000000000000010B=2，1000000000000010B=-2
反码——符号位的用法及正数的表示与“原码”一样；
 负数的表示是在“原码”表示的基础上通过将符号位以外
 的各位取反来获得的。
 如：0000000000000010B=2，1111111111111101B=-2
补码——符号位的用法及正数的表示与“原码”一样；
 负数的表示是在“反码”的基础上通过加1来获得的。
 如：00000010B=2，11111110B=-2</p>
</div>
<div class="paragraph">
<p>三。常用的操作
    &amp; 与。    全1为1， 有0为0。　　任何数与0与都等于0。　　
    | 或。      有1为1， 全0为0。　　任何数与0或都等于原值。
    ~ 非。     逐位取反
    ^ 异或。  相同为0，相异为1。      任何数与0异或都等于原值。</p>
</div>
<div class="paragraph">
<p>正数在计算机中是用二进制表示的，负数在计算机中使用补码表示的。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;

<span class="comment">/**
 * 位移操作。
 * &lt;pre&gt;
 *     System.out.println(1&lt;&lt;1); //结果2，1左移1位，相当于乘以2
 * &lt;/pre&gt;
 * @author zxb
 * @version 1.0.0
 * @date 2016年04月10日 13:44
 * @since Jdk1.6
 */</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">ShiftBit</span> {
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) <span class="directive">throws</span> <span class="exception">Exception</span> {
        <span class="type">int</span> b1 = <span class="integer">1</span>;
        <span class="type">int</span> b2 = -<span class="integer">4</span>;
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b1:</span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b1));
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b2:</span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b2));
        <span class="type">int</span> b3 = b1 &lt;&lt; <span class="integer">1</span>;
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b3:</span><span class="delimiter">&quot;</span></span> + b3);
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b1 &lt;&lt; 1:</span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b3));
        <span class="type">int</span> b4 = b1 &gt;&gt; <span class="integer">2</span>;
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b4:</span><span class="delimiter">&quot;</span></span> + b4);
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b1 &gt;&gt; 2:</span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b4));
        <span class="type">int</span> b6 = b2 &gt;&gt; <span class="integer">2</span>;
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b6:</span><span class="delimiter">&quot;</span></span> + b6);
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b2 &gt;&gt; 2:</span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b6));

        <span class="type">int</span> b5 = b2 &gt;&gt;&gt; <span class="integer">2</span>;
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b5:</span><span class="delimiter">&quot;</span></span> + b5);
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">b2 &gt;&gt; 2:</span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Integer</span>.toBinaryString(b5));

        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">2^5:</span><span class="delimiter">&quot;</span></span> + (<span class="integer">1</span>&lt;&lt;<span class="integer">5</span>));

        <span class="type">int</span> a = <span class="integer">1</span>;
        a &lt;&lt;= <span class="integer">5</span>; <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">2^5:</span><span class="delimiter">&quot;</span></span> + a);
        a &gt;&gt;= <span class="integer">3</span>;
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">a&gt;&gt;=3:</span><span class="delimiter">&quot;</span></span> + a);
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>移位操作符可以与赋值操作符一起使用。即移位后就赋值。（<code>&lt;\&lt;=、&gt;&gt;=、&gt;&gt;&gt;=</code>）</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">example2</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/URShift.java</span>
<span class="comment">// Test of unsigned right shift.</span>

<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">URShift</span> {
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="type">int</span> i = -<span class="integer">1</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(i));
        i &gt;&gt;&gt;= <span class="integer">10</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(i));
        <span class="type">long</span> l = -<span class="integer">1</span>;
        print(<span class="predefined-type">Long</span>.toBinaryString(l));
        l &gt;&gt;&gt;= <span class="integer">10</span>;
        print(<span class="predefined-type">Long</span>.toBinaryString(l));
        <span class="type">short</span> s = -<span class="integer">1</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(s));
        s &gt;&gt;&gt;= <span class="integer">10</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(s));
        <span class="type">byte</span> b = -<span class="integer">1</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(b));
        b &gt;&gt;&gt;= <span class="integer">10</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(b));
        b = -<span class="integer">1</span>;
        print(<span class="predefined-type">Integer</span>.toBinaryString(b));
        print(<span class="predefined-type">Integer</span>.toBinaryString(b &gt;&gt;&gt; <span class="integer">10</span>));
    }
} <span class="comment">/* Output:
11111111111111111111111111111111
1111111111111111111111
1111111111111111111111111111111111111111111111111111111111111111
111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111
11111111111111111111111111111111
11111111111111111111111111111111
11111111111111111111111111111111
11111111111111111111111111111111
1111111111111111111111
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>最高位表示符号位。0表示正数，1表示负数。
如正数1，为0000 0000 0000 0000 0000 0000 0000 0001，负数-1为11111111111111111111111111111111</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_ternary_if_else_operator"><a class="anchor" href="#_ternary_if_else_operator"></a>35.1. Ternary if-else operator</h3>
<div class="listingblock">
<div class="title">三元运算符</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">boolean</span>-exp ? value0 : value1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">compare to if/else</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/TernaryIfElse.java</span>

<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">TernaryIfElse</span> {
    <span class="directive">static</span> <span class="type">int</span> ternary(<span class="type">int</span> i) {
        <span class="keyword">return</span> i &lt; <span class="integer">10</span> ? i * <span class="integer">100</span> : i * <span class="integer">10</span>; <i class="conum" data-value="1"></i><b>(1)</b>
    }

    <span class="directive">static</span> <span class="type">int</span> standardIfElse(<span class="type">int</span> i) {
        <span class="keyword">if</span> (i &lt; <span class="integer">10</span>)
            <span class="keyword">return</span> i * <span class="integer">100</span>;
        <span class="keyword">else</span>
            <span class="keyword">return</span> i * <span class="integer">10</span>;
    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        print(ternary(<span class="integer">9</span>));
        print(ternary(<span class="integer">10</span>));
        print(standardIfElse(<span class="integer">9</span>));
        print(standardIfElse(<span class="integer">10</span>));
    }
} <span class="comment">/* Output:
900
100
900
100
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>三元运算符，虽然简洁，但是可读性差。还是建议使用if/else</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_string_operator_and"><a class="anchor" href="#_string_operator_and"></a>36. String operator + and +=</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>+</code> 与 <code>+=</code> 可以用来追加字符串。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
在 <code>C#</code> 与 <code>C++</code> 中，使用 <strong>运算符重载</strong> 来实现这种特性。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>在一个表达式中，如果有一个字符串，其它使用 <code>+</code> 拼接的表达式都会最终被计算为字符串并进行字符串拼接。</p>
</div>
<div class="listingblock">
<div class="title">example of String operator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/StringOperators.java</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">StringOperators</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">int</span> x = <span class="integer">0</span>, y = <span class="integer">1</span>, z = <span class="integer">2</span>;
    <span class="predefined-type">String</span> s = <span class="string"><span class="delimiter">&quot;</span><span class="content">x, y, z </span><span class="delimiter">&quot;</span></span>;
    print(s + x + y + z);
    print(x + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + s); <span class="comment">// Converts x to a String</span>
    s += <span class="string"><span class="delimiter">&quot;</span><span class="content">(summed) = </span><span class="delimiter">&quot;</span></span>; <span class="comment">// Concatenation operator</span>
    print(s + (x + y + z));
    print(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> + x); <span class="comment">// Shorthand for Integer.toString()</span>
  }
} <span class="comment">/* Output:
x, y, z 012
0 x, y, z
x, y, z (summed) = 3
0
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_pitfalls_when_using_operators"><a class="anchor" href="#_common_pitfalls_when_using_operators"></a>37. Common pitfalls when using operators</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_casting_operators"><a class="anchor" href="#_casting_operators"></a>38. Casting operators</h2>
<div class="sectionbody">
<div class="paragraph">
<p>类型转换操作符，类型转换分为隐式转换和显式转换。</p>
</div>
<div class="listingblock">
<div class="title">example of cast</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/Casting.java</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">Casting</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">int</span> i = <span class="integer">200</span>;
    <span class="type">long</span> lng = (<span class="type">long</span>)i;
    lng = i; <span class="comment">// &quot;Widening,&quot; so cast not really required </span><i class="conum" data-value="1"></i><b>(1)</b>
    <span class="type">long</span> lng2 = (<span class="type">long</span>)<span class="integer">200</span>;
    lng2 = <span class="integer">200</span>;
    <span class="comment">// A &quot;narrowing conversion&quot;:</span>
    i = (<span class="type">int</span>)lng2; <span class="comment">// Cast required </span><i class="conum" data-value="2"></i><b>(2)</b>
  }
} <span class="comment">///:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>隐式转换，大类型引用指向小类型值。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>显式转换，小类型引用指向大类型值。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>除了 <em>boolean</em> 外，其它所有基本类型都可以进行类型转换。</p>
</div>
<div class="sect2">
<h3 id="_truncation_and_rounding"><a class="anchor" href="#_truncation_and_rounding"></a>38.1. Truncation and rounding</h3>
<div class="paragraph">
<p>当执行一个缩小的转换 <em>narrowing conversions</em> ，是可能会损失精度的。</p>
</div>
<div class="listingblock">
<div class="title">example of truncation and rounding</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/CastingNumbers.java</span>
<span class="comment">// What happens when you cast a float</span>
<span class="comment">// or double to an integral value?</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">CastingNumbers</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">double</span> above = <span class="float">0.7</span>, below = <span class="float">0.4</span>;
    <span class="type">float</span> fabove = <span class="float">0.7f</span>, fbelow = <span class="float">0.4f</span>;
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">(int)above: </span><span class="delimiter">&quot;</span></span> + (<span class="type">int</span>)above);
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">(int)below: </span><span class="delimiter">&quot;</span></span> + (<span class="type">int</span>)below);
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">(int)fabove: </span><span class="delimiter">&quot;</span></span> + (<span class="type">int</span>)fabove);
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">(int)fbelow: </span><span class="delimiter">&quot;</span></span> + (<span class="type">int</span>)fbelow);
  }
} <span class="comment">/* Output:  <i class="conum" data-value="1"></i><b>(1)</b>
(int)above: 0
(int)below: 0
(int)fabove: 0
(int)fbelow: 0
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>大类型强制转成小类型，丢失了精度。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>通常， <em>double</em> 和 <em>float</em> 转成 <em>int</em> 是直接被截断的。如果你希望四舍五入，可以采用 <em>java.lang.Math.round()</em> 而非 <em>强制转换</em> 。</p>
</div>
<div class="listingblock">
<div class="title">example of rounding numbers</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/RoundingNumbers.java</span>
<span class="comment">// Rounding floats and doubles.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<i class="conum" data-value="1"></i><b>(1)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">RoundingNumbers</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">double</span> above = <span class="float">0.7</span>, below = <span class="float">0.4</span>;
    <span class="type">float</span> fabove = <span class="float">0.7f</span>, fbelow = <span class="float">0.4f</span>;
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Math.round(above): </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Math</span>.round(above));
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Math.round(below): </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Math</span>.round(below));
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Math.round(fabove): </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Math</span>.round(fabove));
    print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Math.round(fbelow): </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">Math</span>.round(fbelow));
  }
} <span class="comment">/* Output:
Math.round(above): 1
Math.round(below): 0
Math.round(fabove): 1
Math.round(fbelow): 0
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>因为 <em>java.lang.Math</em> 类属于 <em>java.lang</em> 包，所以你不需要额外地去导该类了。因为默认会导 <em>java.lang.*</em> 。</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_promotion"><a class="anchor" href="#_promotion"></a>38.2. Promotion</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">类型提升</dt>
<dd>
<p>你可能会发现，当你对那些比 <strong>int</strong> 小的基本类型（ <strong>char</strong> , <strong>byte</strong> , <strong>short</strong> ）执行算术或位操作时，这些类型会被转为 <em>int</em> 类型进行操作，而你要得到对应类型时，需要强转（损失精度）。</p>
<div class="paragraph">
<p>通常，两个操作数一起计算时，大类型与小类型在一起时，结果就是大类型。</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java_has_no_sizeof"><a class="anchor" href="#_java_has_no_sizeof"></a>39. Java has no “sizeof”</h2>
<div class="sectionbody">
<div class="paragraph">
<p>在 <strong>C</strong> 或 <strong>C++</strong> 中存在 <em>sizeof</em> 方法，这个方法用来得到某一类型所占的字节数。如 <strong>int</strong> 在 <strong>A操作系统</strong> 中占 <em>16bit</em> ，在 <strong>B操作系统</strong> 中占 <em>32bit</em> ，那么程序员要考虑何时是 <strong>int</strong> 是 <em>16bit</em> 之类的问题。</p>
</div>
<div class="paragraph">
<p>在 <strong>java</strong> 中没有这种问题，所以也就不需要 <em>sizeof</em> 方法。因为 <strong>java</strong> 中所有的类型在不同的操作系统中都是相同的固定长度。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_compendium_of_operators"><a class="anchor" href="#_a_compendium_of_operators"></a>40. A compendium of operators</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">all operators</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">operators</span>;<span class="comment">//: operators/AllOps.java</span>
<span class="comment">// Tests all the operators on all the primitive data types</span>
<span class="comment">// to show which ones are accepted by the Java compiler.</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">AllOps</span> {
  <span class="comment">// To accept the results of a boolean test:</span>
  <span class="type">void</span> f(<span class="type">boolean</span> b) {}
  <span class="type">void</span> boolTest(<span class="type">boolean</span> x, <span class="type">boolean</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    <span class="comment">//! x = x * y;</span>
    <span class="comment">//! x = x / y;</span>
    <span class="comment">//! x = x % y;</span>
    <span class="comment">//! x = x + y;</span>
    <span class="comment">//! x = x - y;</span>
    <span class="comment">//! x++;</span>
    <span class="comment">//! x--;</span>
    <span class="comment">//! x = +y;</span>
    <span class="comment">//! x = -y;</span>
    <span class="comment">// Relational and logical:</span>
    <span class="comment">//! f(x &gt; y);</span>
    <span class="comment">//! f(x &gt;= y);</span>
    <span class="comment">//! f(x &lt; y);</span>
    <span class="comment">//! f(x &lt;= y);</span>
    f(x == y);
    f(x != y);
    f(!y);
    x = x &amp;&amp; y;
    x = x || y;
    <span class="comment">// Bitwise operators:</span>
    <span class="comment">//! x = ~y;</span>
    x = x &amp; y;
    x = x | y;
    x = x ^ y;
    <span class="comment">//! x = x &lt;&lt; 1;</span>
    <span class="comment">//! x = x &gt;&gt; 1;</span>
    <span class="comment">//! x = x &gt;&gt;&gt; 1;</span>
    <span class="comment">// Compound assignment:</span>
    <span class="comment">//! x += y;</span>
    <span class="comment">//! x -= y;</span>
    <span class="comment">//! x *= y;</span>
    <span class="comment">//! x /= y;</span>
    <span class="comment">//! x %= y;</span>
    <span class="comment">//! x &lt;&lt;= 1;</span>
    <span class="comment">//! x &gt;&gt;= 1;</span>
    <span class="comment">//! x &gt;&gt;&gt;= 1;</span>
    x &amp;= y;
    x ^= y;
    x |= y;
    <span class="comment">// Casting:</span>
    <span class="comment">//! char c = (char)x;</span>
    <span class="comment">//! byte b = (byte)x;</span>
    <span class="comment">//! short s = (short)x;</span>
    <span class="comment">//! int i = (int)x;</span>
    <span class="comment">//! long l = (long)x;</span>
    <span class="comment">//! float f = (float)x;</span>
    <span class="comment">//! double d = (double)x;</span>
  }
  <span class="type">void</span> charTest(<span class="type">char</span> x, <span class="type">char</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = (<span class="type">char</span>)(x * y);
    x = (<span class="type">char</span>)(x / y);
    x = (<span class="type">char</span>)(x % y);
    x = (<span class="type">char</span>)(x + y);
    x = (<span class="type">char</span>)(x - y);
    x++;
    x--;
    x = (<span class="type">char</span>)+y;
    x = (<span class="type">char</span>)-y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    x= (<span class="type">char</span>)~y;
    x = (<span class="type">char</span>)(x &amp; y);
    x  = (<span class="type">char</span>)(x | y);
    x = (<span class="type">char</span>)(x ^ y);
    x = (<span class="type">char</span>)(x &lt;&lt; <span class="integer">1</span>);
    x = (<span class="type">char</span>)(x &gt;&gt; <span class="integer">1</span>);
    x = (<span class="type">char</span>)(x &gt;&gt;&gt; <span class="integer">1</span>);
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    x &lt;&lt;= <span class="integer">1</span>;
    x &gt;&gt;= <span class="integer">1</span>;
    x &gt;&gt;&gt;= <span class="integer">1</span>;
    x &amp;= y;
    x ^= y;
    x |= y;
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">byte</span> b = (<span class="type">byte</span>)x;
    <span class="type">short</span> s = (<span class="type">short</span>)x;
    <span class="type">int</span> i = (<span class="type">int</span>)x;
    <span class="type">long</span> l = (<span class="type">long</span>)x;
    <span class="type">float</span> f = (<span class="type">float</span>)x;
    <span class="type">double</span> d = (<span class="type">double</span>)x;
  }
  <span class="type">void</span> byteTest(<span class="type">byte</span> x, <span class="type">byte</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = (<span class="type">byte</span>)(x* y);
    x = (<span class="type">byte</span>)(x / y);
    x = (<span class="type">byte</span>)(x % y);
    x = (<span class="type">byte</span>)(x + y);
    x = (<span class="type">byte</span>)(x - y);
    x++;
    x--;
    x = (<span class="type">byte</span>)+ y;
    x = (<span class="type">byte</span>)- y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    x = (<span class="type">byte</span>)~y;
    x = (<span class="type">byte</span>)(x &amp; y);
    x = (<span class="type">byte</span>)(x | y);
    x = (<span class="type">byte</span>)(x ^ y);
    x = (<span class="type">byte</span>)(x &lt;&lt; <span class="integer">1</span>);
    x = (<span class="type">byte</span>)(x &gt;&gt; <span class="integer">1</span>);
    x = (<span class="type">byte</span>)(x &gt;&gt;&gt; <span class="integer">1</span>);
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    x &lt;&lt;= <span class="integer">1</span>;
    x &gt;&gt;= <span class="integer">1</span>;
    x &gt;&gt;&gt;= <span class="integer">1</span>;
    x &amp;= y;
    x ^= y;
    x |= y;
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">char</span> c = (<span class="type">char</span>)x;
    <span class="type">short</span> s = (<span class="type">short</span>)x;
    <span class="type">int</span> i = (<span class="type">int</span>)x;
    <span class="type">long</span> l = (<span class="type">long</span>)x;
    <span class="type">float</span> f = (<span class="type">float</span>)x;
    <span class="type">double</span> d = (<span class="type">double</span>)x;
  }
  <span class="type">void</span> shortTest(<span class="type">short</span> x, <span class="type">short</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = (<span class="type">short</span>)(x * y);
    x = (<span class="type">short</span>)(x / y);
    x = (<span class="type">short</span>)(x % y);
    x = (<span class="type">short</span>)(x + y);
    x = (<span class="type">short</span>)(x - y);
    x++;
    x--;
    x = (<span class="type">short</span>)+y;
    x = (<span class="type">short</span>)-y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    x = (<span class="type">short</span>)~y;
    x = (<span class="type">short</span>)(x &amp; y);
    x = (<span class="type">short</span>)(x | y);
    x = (<span class="type">short</span>)(x ^ y);
    x = (<span class="type">short</span>)(x &lt;&lt; <span class="integer">1</span>);
    x = (<span class="type">short</span>)(x &gt;&gt; <span class="integer">1</span>);
    x = (<span class="type">short</span>)(x &gt;&gt;&gt; <span class="integer">1</span>);
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    x &lt;&lt;= <span class="integer">1</span>;
    x &gt;&gt;= <span class="integer">1</span>;
    x &gt;&gt;&gt;= <span class="integer">1</span>;
    x &amp;= y;
    x ^= y;
    x |= y;
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">char</span> c = (<span class="type">char</span>)x;
    <span class="type">byte</span> b = (<span class="type">byte</span>)x;
    <span class="type">int</span> i = (<span class="type">int</span>)x;
    <span class="type">long</span> l = (<span class="type">long</span>)x;
    <span class="type">float</span> f = (<span class="type">float</span>)x;
    <span class="type">double</span> d = (<span class="type">double</span>)x;
  }
  <span class="type">void</span> intTest(<span class="type">int</span> x, <span class="type">int</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = x * y;
    x = x / y;
    x = x % y;
    x = x + y;
    x = x - y;
    x++;
    x--;
    x = +y;
    x = -y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    x = ~y;
    x = x &amp; y;
    x = x | y;
    x = x ^ y;
    x = x &lt;&lt; <span class="integer">1</span>;
    x = x &gt;&gt; <span class="integer">1</span>;
    x = x &gt;&gt;&gt; <span class="integer">1</span>;
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    x &lt;&lt;= <span class="integer">1</span>;
    x &gt;&gt;= <span class="integer">1</span>;
    x &gt;&gt;&gt;= <span class="integer">1</span>;
    x &amp;= y;
    x ^= y;
    x |= y;
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">char</span> c = (<span class="type">char</span>)x;
    <span class="type">byte</span> b = (<span class="type">byte</span>)x;
    <span class="type">short</span> s = (<span class="type">short</span>)x;
    <span class="type">long</span> l = (<span class="type">long</span>)x;
    <span class="type">float</span> f = (<span class="type">float</span>)x;
    <span class="type">double</span> d = (<span class="type">double</span>)x;
  }
  <span class="type">void</span> longTest(<span class="type">long</span> x, <span class="type">long</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = x * y;
    x = x / y;
    x = x % y;
    x = x + y;
    x = x - y;
    x++;
    x--;
    x = +y;
    x = -y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    x = ~y;
    x = x &amp; y;
    x = x | y;
    x = x ^ y;
    x = x &lt;&lt; <span class="integer">1</span>;
    x = x &gt;&gt; <span class="integer">1</span>;
    x = x &gt;&gt;&gt; <span class="integer">1</span>;
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    x &lt;&lt;= <span class="integer">1</span>;
    x &gt;&gt;= <span class="integer">1</span>;
    x &gt;&gt;&gt;= <span class="integer">1</span>;
    x &amp;= y;
    x ^= y;
    x |= y;
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">char</span> c = (<span class="type">char</span>)x;
    <span class="type">byte</span> b = (<span class="type">byte</span>)x;
    <span class="type">short</span> s = (<span class="type">short</span>)x;
    <span class="type">int</span> i = (<span class="type">int</span>)x;
    <span class="type">float</span> f = (<span class="type">float</span>)x;
    <span class="type">double</span> d = (<span class="type">double</span>)x;
  }
  <span class="type">void</span> floatTest(<span class="type">float</span> x, <span class="type">float</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = x * y;
    x = x / y;
    x = x % y;
    x = x + y;
    x = x - y;
    x++;
    x--;
    x = +y;
    x = -y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    <span class="comment">//! x = ~y;</span>
    <span class="comment">//! x = x &amp; y;</span>
    <span class="comment">//! x = x | y;</span>
    <span class="comment">//! x = x ^ y;</span>
    <span class="comment">//! x = x &lt;&lt; 1;</span>
    <span class="comment">//! x = x &gt;&gt; 1;</span>
    <span class="comment">//! x = x &gt;&gt;&gt; 1;</span>
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    <span class="comment">//! x &lt;&lt;= 1;</span>
    <span class="comment">//! x &gt;&gt;= 1;</span>
    <span class="comment">//! x &gt;&gt;&gt;= 1;</span>
    <span class="comment">//! x &amp;= y;</span>
    <span class="comment">//! x ^= y;</span>
    <span class="comment">//! x |= y;</span>
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">char</span> c = (<span class="type">char</span>)x;
    <span class="type">byte</span> b = (<span class="type">byte</span>)x;
    <span class="type">short</span> s = (<span class="type">short</span>)x;
    <span class="type">int</span> i = (<span class="type">int</span>)x;
    <span class="type">long</span> l = (<span class="type">long</span>)x;
    <span class="type">double</span> d = (<span class="type">double</span>)x;
  }
  <span class="type">void</span> doubleTest(<span class="type">double</span> x, <span class="type">double</span> y) {
    <span class="comment">// Arithmetic operators:</span>
    x = x * y;
    x = x / y;
    x = x % y;
    x = x + y;
    x = x - y;
    x++;
    x--;
    x = +y;
    x = -y;
    <span class="comment">// Relational and logical:</span>
    f(x &gt; y);
    f(x &gt;= y);
    f(x &lt; y);
    f(x &lt;= y);
    f(x == y);
    f(x != y);
    <span class="comment">//! f(!x);</span>
    <span class="comment">//! f(x &amp;&amp; y);</span>
    <span class="comment">//! f(x || y);</span>
    <span class="comment">// Bitwise operators:</span>
    <span class="comment">//! x = ~y;</span>
    <span class="comment">//! x = x &amp; y;</span>
    <span class="comment">//! x = x | y;</span>
    <span class="comment">//! x = x ^ y;</span>
    <span class="comment">//! x = x &lt;&lt; 1;</span>
    <span class="comment">//! x = x &gt;&gt; 1;</span>
    <span class="comment">//! x = x &gt;&gt;&gt; 1;</span>
    <span class="comment">// Compound assignment:</span>
    x += y;
    x -= y;
    x *= y;
    x /= y;
    x %= y;
    <span class="comment">//! x &lt;&lt;= 1;</span>
    <span class="comment">//! x &gt;&gt;= 1;</span>
    <span class="comment">//! x &gt;&gt;&gt;= 1;</span>
    <span class="comment">//! x &amp;= y;</span>
    <span class="comment">//! x ^= y;</span>
    <span class="comment">//! x |= y;</span>
    <span class="comment">// Casting:</span>
    <span class="comment">//! boolean bl = (boolean)x;</span>
    <span class="type">char</span> c = (<span class="type">char</span>)x;
    <span class="type">byte</span> b = (<span class="type">byte</span>)x;
    <span class="type">short</span> s = (<span class="type">short</span>)x;
    <span class="type">int</span> i = (<span class="type">int</span>)x;
    <span class="type">long</span> l = (<span class="type">long</span>)x;
    <span class="type">float</span> f = (<span class="type">float</span>)x;
  }
} <span class="comment">///:~</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a class="anchor" href="#_summary"></a>41. Summary</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_controlling_execution" class="sect0"><a class="anchor" href="#_controlling_execution"></a>Controlling Execution</h1>
<div class="openblock partintro">
<div class="content">
<strong>if-else</strong> , <strong>while</strong> , <strong>do-while</strong> , <strong>for</strong> , <strong>return</strong> , <strong>break</strong> , <strong>switch</strong>
</div>
</div>
<div class="sect1">
<h2 id="__strong_true_strong_and_strong_false_strong"><a class="anchor" href="#__strong_true_strong_and_strong_false_strong"></a>42. <strong>True</strong> and <strong>False</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>所有的条件语句都使用 <strong>true</strong> 或 <strong>false</strong> 来决定语句的执行。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Java</strong> 不允许使用 <strong>nubmer</strong> 当作 <strong>boolean</strong>（在 <strong>C</strong> 或 <strong>C++</strong> 中会把 <strong>0</strong> 当作 <strong>false</strong> ，非 <strong>0</strong> 当作 <strong>true</strong>）。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__strong_if_else_strong"><a class="anchor" href="#__strong_if_else_strong"></a>43. <strong>if-else</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>if-else</strong> 是使用最多的控制语句。 <em>else</em> 是可选的。所以可以有以下两种方式使用 <em>if</em> 。</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. if</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span>(<span class="predefined-type">Boolean</span>-expression)
  statement

or

<span class="keyword">if</span>(<span class="predefined-type">Boolean</span>-expression)
  statement
<span class="keyword">else</span>
  statement</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 2. if / else if /else</div>
<div class="content">
<div class="listingblock">
<div class="title">example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/IfElse.java</span>

<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">IfElse</span> {
    <span class="directive">static</span> <span class="type">int</span> result = <span class="integer">0</span>;

    <span class="directive">static</span> <span class="type">void</span> test(<span class="type">int</span> testval, <span class="type">int</span> target) {
        <span class="keyword">if</span> (testval &gt; target)
            result = +<span class="integer">1</span>;
        <span class="keyword">else</span> <span class="keyword">if</span> (testval &lt; target)
            result = -<span class="integer">1</span>;
        <span class="keyword">else</span>
            result = <span class="integer">0</span>; <span class="comment">// Match</span>
    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        test(<span class="integer">10</span>, <span class="integer">5</span>);
        print(result);
        test(<span class="integer">5</span>, <span class="integer">10</span>);
        print(result);
        test(<span class="integer">5</span>, <span class="integer">5</span>);
        print(result);
    }
} <span class="comment">/* Output:
1
-1
0
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_iteration"><a class="anchor" href="#_iteration"></a>44. Iteration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>循环， <strong>while</strong> 、 <strong>do-while</strong> 、 <strong>for</strong></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">while</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">while</span>(<span class="predefined-type">Boolean</span>-expression)
  statement</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">WhileTest</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/WhileTest.java</span>
<span class="comment">// Demonstrates the while loop.</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">WhileTest</span> {
    <span class="directive">static</span> <span class="type">boolean</span> condition() {
        <span class="type">boolean</span> result = <span class="predefined-type">Math</span>.random() &lt; <span class="float">0.99</span>;
        <span class="predefined-type">System</span>.out.print(result + <span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">return</span> result;
    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="keyword">while</span> (condition()) <i class="conum" data-value="1"></i><b>(1)</b>
            <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Inside 'while'</span><span class="delimiter">&quot;</span></span>);
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Exited 'while'</span><span class="delimiter">&quot;</span></span>);
    }
} <span class="comment">/* (Execute to see output) */</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>直到 <code>condition()</code> 为 <em>false</em> 时才退出循环</td>
</tr>
</table>
</div>
</dd>
<dt class="hdlist1">do-while</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">do</span>
  statement
<span class="keyword">while</span>(<span class="predefined-type">Boolean</span>-expression);</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>while</em> 与 <em>do-while</em> 的区别在于 <em>do-while</em> 至少执行一次。</p>
</div>
</dd>
<dt class="hdlist1">for</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">for</span>(initialization; <span class="predefined-type">Boolean</span>-expression; step) <i class="conum" data-value="1"></i><b>(1)</b>
  statement</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><em>initialization</em> 或 <em>Boolean-expression</em> 或 <em>step</em> 这三者均可为空。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">List Characters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/ListCharacters.java</span>
<span class="comment">// Demonstrates &quot;for&quot; loop by listing</span>
<span class="comment">// all the lowercase ASCII letters.</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">ListCharacters</span> {
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="keyword">for</span> (<span class="type">char</span> c = <span class="integer">0</span>; c &lt; <span class="integer">128</span>; c++)
            <span class="keyword">if</span> (<span class="predefined-type">Character</span>.isLowerCase(c))
                <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">value: </span><span class="delimiter">&quot;</span></span> + (<span class="type">int</span>) c +
                        <span class="string"><span class="delimiter">&quot;</span><span class="content"> character: </span><span class="delimiter">&quot;</span></span> + c);
    }
} <span class="comment">/* Output:
value: 97 character: a
value: 98 character: b
value: 99 character: c
value: 100 character: d
value: 101 character: e
value: 102 character: f
value: 103 character: g
value: 104 character: h
value: 105 character: i
value: 106 character: j
...
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_the_comma_operator"><a class="anchor" href="#_the_comma_operator"></a>44.1. The comma operator</h3>
<div class="paragraph">
<p>在 <em>for</em> 循环中，可以使用多个 <em>comma</em> 。</p>
</div>
<div class="listingblock">
<div class="title">comma operator</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/CommaOperator.java</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">CommaOperator</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="integer">1</span>, j = i + <span class="integer">10</span>; i &lt; <span class="integer">5</span>; i++, j = i * <span class="integer">2</span>) { <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">i = </span><span class="delimiter">&quot;</span></span> + i + <span class="string"><span class="delimiter">&quot;</span><span class="content"> j = </span><span class="delimiter">&quot;</span></span> + j);
    }
  }
} <span class="comment">/* Output:
i = 1 j = 11
i = 2 j = 4
i = 3 j = 6
i = 4 j = 8
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>以逗号隔开，初始化多个相同类型的变量等。</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_foreach_syntax"><a class="anchor" href="#_foreach_syntax"></a>45. Foreach Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>JavaSE<sub>5</sub></strong> 推出了更简洁的迭代 <em>Array</em> 与 <em>Container</em> 的 <em>for</em> 语法，这也被称为 <em>foreach syntax</em> 。不再需要初始化一个 <strong>int</strong> 类型变量来遍历整个序列， <em>foreach</em> 直接将每次迭代的 <em>item</em> 给你。</p>
</div>
<div class="listingblock">
<div class="title">foreach array</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/ForEachFloat.java</span>
<span class="keyword">import</span> <span class="include">java.util</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">ForEachFloat</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="predefined-type">Random</span> rand = <span class="keyword">new</span> <span class="predefined-type">Random</span>(<span class="integer">47</span>);
    <span class="type">float</span> f<span class="type">[]</span> = <span class="keyword">new</span> <span class="type">float</span>[<span class="integer">10</span>];
    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">10</span>; i++)
      f[i] = rand.nextFloat();
    <span class="keyword">for</span>(<span class="type">float</span> x : f) <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="predefined-type">System</span>.out.println(x);
  }
} <span class="comment">/* Output:
0.72711575
0.39982635
0.5309454
0.0534122
0.16020656
0.57799757
0.18847865
0.4170137
0.51660204
0.73734957
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>直接遍历了数组，并且每次迭代时将每一个 <em>item</em> 给你。</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">foreach char array</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/ForEachString.java</span>

<span class="directive">public</span> <span class="type">class</span> <span class="class">ForEachString</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="keyword">for</span>(<span class="type">char</span> c : <span class="string"><span class="delimiter">&quot;</span><span class="content">An African Swallow</span><span class="delimiter">&quot;</span></span>.toCharArray() ) <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="predefined-type">System</span>.out.print(c + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>);
  }
} <span class="comment">/* Output:
A n   A f r i c a n   S w a l l o w
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>迭代 <em>char</em> 数组</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>foreach</em> 可以用于所有实现了 <strong>Iterable</strong> 接口的对象。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__strong_return_strong"><a class="anchor" href="#__strong_return_strong"></a>46. <strong>return</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>return</strong> 关键字的用处：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>指定方法的返回值（如果方法不是 <em>void</em> ）</p>
</li>
<li>
<p>退出当前方法</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/IfElse2.java</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">IfElse2</span> {
  <span class="directive">static</span> <span class="type">int</span> test(<span class="type">int</span> testval, <span class="type">int</span> target) {
    <span class="keyword">if</span>(testval &gt; target)
      <span class="keyword">return</span> +<span class="integer">1</span>;
    <span class="keyword">else</span> <span class="keyword">if</span>(testval &lt; target)
      <span class="keyword">return</span> -<span class="integer">1</span>;
    <span class="keyword">else</span>
      <span class="keyword">return</span> <span class="integer">0</span>; <span class="comment">// Match </span><i class="conum" data-value="1"></i><b>(1)</b>
  }
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    print(test(<span class="integer">10</span>, <span class="integer">5</span>));
    print(test(<span class="integer">5</span>, <span class="integer">10</span>));
    print(test(<span class="integer">5</span>, <span class="integer">5</span>));
  }
} <span class="comment">/* Output:
1
-1
0
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>其实这里可以不再需要 <em>else</em> ，因为 <em>return</em> 执行后方法就结果了。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果 <em>method</em> 的返回值类型为 <em>void</em> ，那么可以不用指定 <em>return</em> 。</p>
</div>
<div class="paragraph">
<p>如果 <em>method</em> 的返回值为明确的某一类型，那么就必须在方法中指定 <em>return</em> 。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__strong_break_strong_and_strong_continue_strong"><a class="anchor" href="#__strong_break_strong_and_strong_continue_strong"></a>47. <strong>break</strong> and <strong>continue</strong></h2>
<div class="sectionbody">
<div class="paragraph">
<p>在循环内部可以通过 <strong>break</strong> 与 <strong>continue</strong> 控制循环。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
break
</td>
<td class="hdlist2">
<p>不再执行余下代码，并跳出当前循环。</p>
</td>
</tr>
<tr>
<td class="hdlist1">
continue
</td>
<td class="hdlist2">
<p>停止当前执行，并跳到循环开始处继续执行。</p>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Break and Continue</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/BreakAndContinue.java</span>
<span class="comment">// Demonstrates break and continue keywords.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Range</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">BreakAndContinue</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">100</span>; i++) {
      <span class="keyword">if</span>(i == <span class="integer">74</span>) <span class="keyword">break</span>; <span class="comment">// Out of for loop</span>
      <span class="keyword">if</span>(i % <span class="integer">9</span> != <span class="integer">0</span>) <span class="keyword">continue</span>; <span class="comment">// Next iteration</span>
      <span class="predefined-type">System</span>.out.print(i + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>);
    }
    <span class="predefined-type">System</span>.out.println();
    <span class="comment">// Using foreach:</span>
    <span class="keyword">for</span>(<span class="type">int</span> i : range(<span class="integer">100</span>)) {
      <span class="keyword">if</span>(i == <span class="integer">74</span>) <span class="keyword">break</span>; <span class="comment">// Out of for loop</span>
      <span class="keyword">if</span>(i % <span class="integer">9</span> != <span class="integer">0</span>) <span class="keyword">continue</span>; <span class="comment">// Next iteration</span>
      <span class="predefined-type">System</span>.out.print(i + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>);
    }
    <span class="predefined-type">System</span>.out.println();
    <span class="type">int</span> i = <span class="integer">0</span>;
    <span class="comment">// An &quot;infinite loop&quot;:</span>
    <span class="keyword">while</span>(<span class="predefined-constant">true</span>) {
      i++;
      <span class="type">int</span> j = i * <span class="integer">27</span>;
      <span class="keyword">if</span>(j == <span class="integer">1269</span>) <span class="keyword">break</span>; <span class="comment">// Out of loop</span>
      <span class="keyword">if</span>(i % <span class="integer">10</span> != <span class="integer">0</span>) <span class="keyword">continue</span>; <span class="comment">// Top of loop</span>
      <span class="predefined-type">System</span>.out.print(i + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>);
    }
  }
} <span class="comment">/* Output:
0 9 18 27 36 45 54 63 72
0 9 18 27 36 45 54 63 72
10 20 30 40
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_infamous_goto"><a class="anchor" href="#_the_infamous_goto"></a>48. The infamous “goto”</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>goto</strong> 是指如在条件A处跳到B处，条件B处又直接跳转到A处。</p>
</div>
<div class="paragraph">
<p>问题的本身不是使用 <strong>goto</strong> ，而是过度使用 <strong>goto</strong> ，最终导致程序控制流程惨不忍睹。其实某些特殊情况，使用 <strong>goto</strong> 是非常方便地能解决问题的。</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>goto</strong> 在 <strong>java</strong> 中是保留的关键字，而且也没有使用 <strong>goto</strong> 了。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>在 <strong>java</strong> 中可以使用 <em>label</em> 与 <em>break</em> 或 <em>continue</em> 来达到类似 <em>goto</em> 的 <em>jump</em> 效果。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">label</dt>
<dd>
<p>label就是一个标识符，以冒号结尾。</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">label1:{
  statement;
}

label2:
outer-iteration {
  inner-iteration {
    <span class="comment">//...</span>
    <span class="keyword">break</span>; <span class="comment">// (1)</span>
    <span class="comment">//...</span>
    <span class="keyword">continue</span>; <span class="comment">// (2)</span>
    <span class="comment">//...</span>
    <span class="keyword">continue</span> label1; <span class="comment">// (3)</span>
    <span class="comment">//...</span>
    <span class="keyword">break</span> label1; <span class="comment">// (4)</span>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>break inner-iteration</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>continue inner-iteration</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>continue outer-iteration</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>break outer-interation</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>使用 <em>label</em> 最有用处的地方主要还是在循环中，因为 <em>break</em> 与 <em>continue</em> 只能跳出当前的循环，对付嵌套循环就不好办了。</p>
</div>
<div class="listingblock">
<div class="title">Labeled For</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/LabeledFor.java</span>
<span class="comment">// For loops with &quot;labeled break&quot; and &quot;labeled continue.&quot;</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">LabeledFor</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">int</span> i = <span class="integer">0</span>;
    outer: <span class="comment">// Can't have statements here</span>
    <span class="keyword">for</span>(; <span class="predefined-constant">true</span> ;) { <span class="comment">// infinite loop</span>
      inner: <span class="comment">// Can't have statements here</span>
      <span class="keyword">for</span>(; i &lt; <span class="integer">10</span>; i++) {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i = </span><span class="delimiter">&quot;</span></span> + i);
        <span class="keyword">if</span>(i == <span class="integer">2</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">continue</span><span class="delimiter">&quot;</span></span>);
          <span class="keyword">continue</span>;
        }
        <span class="keyword">if</span>(i == <span class="integer">3</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">break</span><span class="delimiter">&quot;</span></span>);
          i++; <span class="comment">// Otherwise i never</span>
               <span class="comment">// gets incremented.</span>
          <span class="keyword">break</span>;
        }
        <span class="keyword">if</span>(i == <span class="integer">7</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">continue outer</span><span class="delimiter">&quot;</span></span>);
          i++; <span class="comment">// Otherwise i never</span>
               <span class="comment">// gets incremented.</span>
          <span class="keyword">continue</span> outer;
        }
        <span class="keyword">if</span>(i == <span class="integer">8</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">break outer</span><span class="delimiter">&quot;</span></span>);
          <span class="keyword">break</span> outer; <i class="conum" data-value="1"></i><b>(1)</b>
        }
        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="integer">0</span>; k &lt; <span class="integer">5</span>; k++) {
          <span class="keyword">if</span>(k == <span class="integer">3</span>) {
            print(<span class="string"><span class="delimiter">&quot;</span><span class="content">continue inner</span><span class="delimiter">&quot;</span></span>);
            <span class="keyword">continue</span> inner;
          }
        }
      }
    }
    <span class="comment">// Can't break or continue to labels here</span>
  }
} <span class="comment">/* Output:
i = 0
continue inner
i = 1
continue inner
i = 2
continue
i = 3
break
i = 4
continue inner
i = 5
continue inner
i = 6
continue inner
i = 7
continue outer
i = 8
break outer
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>如果跳转外层循环后，方法就结束了的话，也可以直接使用 <em>return</em></td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Labeled While</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/LabeledWhile.java</span>
<span class="comment">// While loops with &quot;labeled break&quot; and &quot;labeled continue.&quot;</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">LabeledWhile</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="type">int</span> i = <span class="integer">0</span>;
    outer:
    <span class="keyword">while</span>(<span class="predefined-constant">true</span>) {
      print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Outer while loop</span><span class="delimiter">&quot;</span></span>);
      <span class="keyword">while</span>(<span class="predefined-constant">true</span>) {
        i++;
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">i = </span><span class="delimiter">&quot;</span></span> + i);
        <span class="keyword">if</span>(i == <span class="integer">1</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">continue</span><span class="delimiter">&quot;</span></span>);
          <span class="keyword">continue</span>;
        }
        <span class="keyword">if</span>(i == <span class="integer">3</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">continue outer</span><span class="delimiter">&quot;</span></span>);
          <span class="keyword">continue</span> outer;
        }
        <span class="keyword">if</span>(i == <span class="integer">5</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">break</span><span class="delimiter">&quot;</span></span>);
          <span class="keyword">break</span>;
        }
        <span class="keyword">if</span>(i == <span class="integer">7</span>) {
          print(<span class="string"><span class="delimiter">&quot;</span><span class="content">break outer</span><span class="delimiter">&quot;</span></span>);
          <span class="keyword">break</span> outer;
        }
      }
    }
  }
} <span class="comment">/* Output:
Outer while loop
i = 1
continue
i = 2
i = 3
continue outer
Outer while loop
i = 4
i = 5
break
Outer while loop
i = 6
i = 7
break outer
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>不推荐使用 <em>label</em> ，除非在遇到嵌套循环不好处理时。</p>
</div>
<div class="paragraph">
<p>使用 <em>label</em> 将降低程序可读性、可分析性，使代码难维护。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_switch"><a class="anchor" href="#_switch"></a>49. switch</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>switch</strong> 有时也被称为选择语句。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">switch</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">switch</span>(integral-selector) {
  <span class="keyword">case</span> integral-value1 : statement; <span class="keyword">break</span>;
  <span class="keyword">case</span> integral-value2 : statement; <span class="keyword">break</span>; <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="keyword">case</span> integral-value3 : statement; <span class="keyword">break</span>;
  <span class="keyword">case</span> integral-value4 : statement; <span class="keyword">break</span>;
  <span class="keyword">case</span> integral-value5 : statement; <span class="keyword">break</span>;
  <span class="comment">// ...</span>
  <span class="keyword">default</span>: statement;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><em>break</em> 是可选的，如果没有 <em>break</em> ，则会一直执行下面的 <em>case</em> 直到遇到 <em>break</em> 。</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>swtich</strong> 将 <em>integral-selector</em> 与所有的 <em>case</em> 进行比较。如果匹配，则执行对应的 <em>statement</em> ，否则执行 <em>default statement</em> 。</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="title">VowelAndConsonants</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">control</span>;<span class="comment">//: control/VowelsAndConsonants.java</span>
<span class="comment">// Demonstrates the switch statement.</span>
<span class="keyword">import</span> <span class="include">java.util</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;

<span class="directive">public</span> <span class="type">class</span> <span class="class">VowelsAndConsonants</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="predefined-type">Random</span> rand = <span class="keyword">new</span> <span class="predefined-type">Random</span>(<span class="integer">47</span>);
    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">100</span>; i++) {
      <span class="type">int</span> c = rand.nextInt(<span class="integer">26</span>) + <span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>;
      printnb((<span class="type">char</span>)c + <span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span> + c + <span class="string"><span class="delimiter">&quot;</span><span class="content">: </span><span class="delimiter">&quot;</span></span>);
      <span class="keyword">switch</span>(c) {
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">e</span><span class="delimiter">'</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">i</span><span class="delimiter">'</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">o</span><span class="delimiter">'</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">u</span><span class="delimiter">'</span></span>: print(<span class="string"><span class="delimiter">&quot;</span><span class="content">vowel</span><span class="delimiter">&quot;</span></span>);
                  <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">y</span><span class="delimiter">'</span></span>:
        <span class="keyword">case</span> <span class="string"><span class="delimiter">'</span><span class="content">w</span><span class="delimiter">'</span></span>: print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Sometimes a vowel</span><span class="delimiter">&quot;</span></span>);
                  <span class="keyword">break</span>;
        <span class="keyword">default</span>:  print(<span class="string"><span class="delimiter">&quot;</span><span class="content">consonant</span><span class="delimiter">&quot;</span></span>);
      }
    }
  }
} <span class="comment">/* Output:
y, 121: Sometimes a vowel
n, 110: consonant
z, 122: consonant
b, 98: consonant
r, 114: consonant
n, 110: consonant
y, 121: Sometimes a vowel
g, 103: consonant
c, 99: consonant
f, 102: consonant
o, 111: vowel
w, 119: Sometimes a vowel
z, 122: consonant
...
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary_2"><a class="anchor" href="#_summary_2"></a>50. Summary</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="_initialization_cleanup" class="sect0"><a class="anchor" href="#_initialization_cleanup"></a>Initialization &amp; Cleanup</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>关于安全的两个问题就是 <em>Initialization</em> 与 <em>CleanUp</em> 。很多 <em>C</em> 程序的 <em>Bug</em> 是程序员忘记初始化变量了。</p>
</div>
<div class="paragraph">
<p><em>C++</em> 引入了构造函数的概念，构造函数会在对象创建时自动执行。 <em>Java</em> 也引入了构造函数，并且还添加了 <em>Garbage Collector</em> 。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_guaranteed_initialization_with_the_constructor"><a class="anchor" href="#_guaranteed_initialization_with_the_constructor"></a>51. Guaranteed initialization with the constructor</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">示例1</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">initialization</span>;<span class="comment">//: initialization/SimpleConstructor.java</span>
<span class="comment">// Demonstration of a simple constructor.</span>

<span class="type">class</span> <span class="class">Rock</span> {
  Rock() { <span class="comment">// This is the constructor</span>
    <span class="predefined-type">System</span>.out.print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Rock </span><span class="delimiter">&quot;</span></span>);
  }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">SimpleConstructor</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">10</span>; i++)
      <span class="keyword">new</span> Rock();
  }
} <span class="comment">/* Output:
Rock Rock Rock Rock Rock Rock Rock Rock Rock Rock
*/</span><span class="comment">//:~</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_method_overloading"><a class="anchor" href="#_method_overloading"></a>52. Method overloading</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_default_constructors"><a class="anchor" href="#_default_constructors"></a>53. Default constructors</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_the_strong_this_strong_keyword"><a class="anchor" href="#_the_strong_this_strong_keyword"></a>54. The <strong>this</strong> keyword</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_calling_constructors_from_constructors"><a class="anchor" href="#_calling_constructors_from_constructors"></a>54.1. Calling constructors from constructors</h3>

</div>
<div class="sect2">
<h3 id="_the_meaning_of_static"><a class="anchor" href="#_the_meaning_of_static"></a>54.2. The meaning of static</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_cleanup_finalization_and_garbage_collection"><a class="anchor" href="#_cleanup_finalization_and_garbage_collection"></a>55. Cleanup: finalization and garbage collection</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_enumerated_types"><a class="anchor" href="#_enumerated_types"></a>56. Enumerated types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Enum都有自己的 <em>oridal()</em> 方法，表示序数，从0开始。
也有 values()方法，也有valueOf()方法。</p>
</div>
</div>
</div>
<h1 id="_accesscontrol" class="sect0"><a class="anchor" href="#_accesscontrol"></a>AccessControl</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>访问控制最常见的是 <em>library</em> 依赖。如 <em>client</em>  依赖于某一 <em>library</em> ，则 <em>library creator</em> 应该保证升级过程中，不对 <em>client</em> 的代码造成影响，如 <em>client</em> 要修改大量代码之类的。</p>
</div>
<div class="paragraph">
<p>那么 <em>library creator</em> 又如何能知道哪些类或方法或字段被 <em>client</em> 给依赖了呢。为了解决这个问题， <em>java</em> 中使用 <strong>访问修饰符</strong> 来控制哪些可以被 <em>client</em> 访问，哪些不可以。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_package_the_library_unit"><a class="anchor" href="#_package_the_library_unit"></a>57. package: the library unit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>一个 <em>package</em> 包含一组类，并且这些类使用相同的 <em>namespace</em> ，即包名。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>导入单个类
import java.util.ArrayList;</p>
</li>
<li>
<p>导入某包下所有类
import java.util.*;</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
通过包名加类名这种完全限定名来解决类名冲突。
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>每一个 <em>.java</em> 文件中，只允许出现一个 <em>plubic</em> 声明的类。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_code_organization"><a class="anchor" href="#_code_organization"></a>57.1. Code organization</h3>
<div class="paragraph">
<p>当你编译一个 <em>.java</em> 文件时，将产生一个相同名称的 <em>.class</em> 文件。一个可运行的程序由一组 <em>.class</em> 文件组成，这些 <em>.class</em> 文件也可以被打包成一个 <em>jar</em> 包。 <em>java</em> 解释器就负责查找、加载与解释执行这些 <em>.class</em> 文件。</p>
</div>
</div>
<div class="sect2">
<h3 id="_java_access_specfiers"><a class="anchor" href="#_java_access_specfiers"></a>57.2. Java Access specfiers</h3>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">public</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">公共访问权限</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">protected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">类继承访问权限，包访问权限</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">friendly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">包访问权限， <strong>无关键字</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">private</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">私有权限，仅本类可访问</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>类只有 <em>plublic</em> 与 <em>friendly</em> （包访问）修饰。</p>
</div>
</div>
</div>
</div>
<h1 id="_reusing_class" class="sect0"><a class="anchor" href="#_reusing_class"></a>Reusing Class</h1>
<div class="openblock partintro">
<div class="content">
选择 <em>Composition</em> 还是 <em>Inheritance</em> 主要取决于你是否需要 <em>upcasting</em> 。
</div>
</div>
<div class="sect1">
<h2 id="_final_keyword"><a class="anchor" href="#_final_keyword"></a>58. Final KeyWord</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_final_data"><a class="anchor" href="#_final_data"></a>58.1. final data</h3>
<div class="paragraph">
<p>使用 <em>static final</em> 修饰的常量，命名时以全部大写，且多个单词以下划线分开。
使用 <em>final</em> 修饰的常量不用大写，使用驼峰命名法即可。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>static final</em></dt>
<dd>
<p><em>static</em> 强调只有一个， <em>final</em> 强调这是一个常量。</p>
</dd>
<dt class="hdlist1">final data</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>对基本类型使用 <em>final</em> ，该变量值将不可被改变。</p>
</li>
<li>
<p>对引用类型变量使用 <em>final</em> ，该引用的地址将不改被改变，即不改再将该引用指向其它对象。</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_blank_finals"><a class="anchor" href="#_blank_finals"></a>58.2. Blank finals</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">blank finals</dt>
<dd>
<p>即将 <em>fields</em> 声明为 <em>final</em> ，但是没有给定一个初始值，但是被 <em>blank finals</em> 声明的变量必须在被使用前先完成初始化。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><em>blank finals</em> 必须在变量定义或构造函数中完成初始化，这样也就保证了它在使用前一定完成了初始化。</p>
</div>
</div>
<div class="sect2">
<h3 id="_final_arguments"><a class="anchor" href="#_final_arguments"></a>58.3. final arguments</h3>
<div class="paragraph">
<p>被 <em>final</em> 修改的方法参数，在方法内部将不能修改该参数指向的值。</p>
</div>
</div>
<div class="sect2">
<h3 id="_final_methods"><a class="anchor" href="#_final_methods"></a>58.4. final methods</h3>
<div class="olist arabic">
<div class="title">使用 <em>final methods</em> 的有两种原因</div>
<ol class="arabic">
<li>
<p>防止该方法被子类 <em>override</em></p>
</li>
<li>
<p>在早期的 <em>jdk</em> 中指定编译器优化该方法，现在的 <em>Jdk5+</em> 已经不推荐使用</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_final_and_private"><a class="anchor" href="#_final_and_private"></a>58.5. final and private</h3>
<div class="paragraph">
<p>任何 <em>private</em> 的方法其实算是隐式的 <em>final</em> 方法，因为被 <em>private</em> 修饰的方法不可被外部访问，也不可 <em>override</em> 。你可以给 <em>private</em> 修饰的方法添加一个 <em>final</em> 关键字，但是这并不会起什么效果。</p>
</div>
</div>
<div class="sect2">
<h3 id="_final_classes"><a class="anchor" href="#_final_classes"></a>58.6. final classes</h3>
<div class="paragraph">
<p>被 <em>final</em> 修饰的 <em>class</em> 将不可被继承，其中的 <em>method</em> 也就被隐式地声明为了 <em>final</em> 了， <strong>但是其中的 <em>field</em> 不受影响</strong> ，即 <em>field</em> 可声明为 <em>final</em> 或非 <em>final</em> ，此处参照 <em>final data</em> 章节。</p>
</div>
</div>
<div class="sect2">
<h3 id="_final_caution"><a class="anchor" href="#_final_caution"></a>58.7. final caution</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_initialization_and_class_loading"><a class="anchor" href="#_initialization_and_class_loading"></a>59. Initialization and class loading</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">类在JVM中的工作原理</div>
<p>要想使用一个Java类为自己工作，必须经过以下几个过程</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>类加载load：从字节码二进制文件——.class文件将类加载到内存，从而达到类的从硬盘上到内存上的一个迁移，所有的程序必须加载到内存才能工作。将内存中的class放到运行时数据区的方法区内，之后在堆区建立一个java.lang.Class对象，用来封装方法区的数据结构。这个时候就体现出了万事万物皆对象了，干什么事情都得有个对象。就是到了最底层究竟是鸡生蛋，还是蛋生鸡呢?类加载的最终产物就是堆中的一个java.lang.Class对象。</p>
</li>
<li>
<p>连接：连接又分为以下小步骤
验证：出于安全性的考虑，验证内存中的字节码是否符合JVM的规范，类的结构规范、语义检查、字节码操作是否合法、这个是为了防止用户自己建立一个非法的XX.class文件就进行工作了，或者是JVM版本冲突的问题，比如在JDK6下面编译通过的class(其中包含注解特性的类)，是不能在JDK1.4的JVM下运行的。
准备：将类的静态变量进行分配内存空间、初始化默认值。(对象还没生成呢，所以这个时候没有实例变量什么事情)
解析：把类的符号引用转为直接引用(保留)</p>
</li>
<li>
<p>类的初始化： 将类的静态变量赋予正确的初始值，这个初始值是开发者自己定义时赋予的初始值，而不是默认值。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>而类的初始化则是在第一次访问该类时执行，且执行顺序如下：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>父类静态代码块</p>
</li>
<li>
<p>子类静态代码块</p>
</li>
<li>
<p>父类非静态代码块</p>
</li>
<li>
<p>父类构造函数</p>
</li>
<li>
<p>子类非静态代码块</p>
</li>
<li>
<p>子类构造函数</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>一般来说就是类的 <em>static field</em> 或 <em>static method</em> 被访问到时就会初始化该类。其实构造函数也是一个特殊的 <em>static method</em> ，只是没有被显示声明。</p>
</div>
</div>
</div>
<h1 id="_polymorphism" class="sect0"><a class="anchor" href="#_polymorphism"></a>Polymorphism</h1>
<div class="sect1">
<h2 id="_method_call_binding"><a class="anchor" href="#_method_call_binding"></a>60. Method-call binding</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Java</em> 中所有绑定的方法都是 <em>late binding</em> ，除了 <em>static</em> 和 <em>final</em> 修饰的方法（<em>private</em> 修饰的方法是隐式的 <em>final</em> 方法）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_constructors_and_polymorphism"><a class="anchor" href="#_constructors_and_polymorphism"></a>61. Constructors and polymorphism</h2>
<div class="sectionbody">
<div class="paragraph">
<p>构造函数调用顺序。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>最顶层父类成员变量初始化</p>
</li>
<li>
<p>最顶层父类构造函数执行</p>
</li>
<li>
<p>依次各次父类成员变量初始化、构造执行</p>
</li>
<li>
<p>当前类成员变量初始化，构造函数执行</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果有静态成员变量，则最先执行的为静态成员变量。静态成员变量的初始化，也是先父类后子类。</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>构造函数中涉及多态时调用</p>
</div>
<div class="listingblock">
<div class="title">示例</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: polymorphism/PolyConstructors.java</span>
<span class="comment">// Constructors and polymorphism</span>
<span class="comment">// don’t produce what you might expect.</span>
<span class="keyword">import</span> <span class="include">static</span> <span class="include">net.mindview.util.Print</span>.*;
<span class="type">class</span> <span class="class">Glyph</span> {
<span class="type">void</span> draw() {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Glyph.draw()</span><span class="delimiter">&quot;</span></span>);
}
Glyph() {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Glyph() before draw()</span><span class="delimiter">&quot;</span></span>);
        draw();
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">Glyph() after draw()</span><span class="delimiter">&quot;</span></span>);
}
}
<span class="type">class</span> <span class="class">RoundGlyph</span> <span class="directive">extends</span> Glyph {
<span class="directive">private</span> <span class="type">int</span> radius = <span class="integer">1</span>;
RoundGlyph(<span class="type">int</span> r) {
        radius = r;
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">RoundGlyph.RoundGlyph(), radius = </span><span class="delimiter">&quot;</span></span> + radius);
}
<span class="type">void</span> draw() {
        print(<span class="string"><span class="delimiter">&quot;</span><span class="content">RoundGlyph.draw(), radius = </span><span class="delimiter">&quot;</span></span> + radius);
}
}
<span class="directive">public</span> <span class="type">class</span> <span class="class">PolyConstructors</span> {
<span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        <span class="integer">210</span> Thinking in Java Bruce Eckel
        <span class="keyword">new</span> RoundGlyph(<span class="integer">5</span>);
}
} <span class="comment">/* Output:
     Glyph() before draw()
     RoundGlyph.draw(), radius = 0 <i class="conum" data-value="1"></i><b>(1)</b>
     Glyph() after draw()
     RoundGlyph.RoundGlyph(), radius = 5
   */</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>父类构造调用 <em>draw()</em> 时，由于多态，结果调用了子类的 <em>draw()</em> 方法。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>父类构造调用</p>
</li>
<li>
<p>父类调用 <em>draw()</em> 方法，由于多态，调用了子类的 <em>draw()</em></p>
</li>
<li>
<p>子类构造调用</p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_可变的返回类型"><a class="anchor" href="#_可变的返回类型"></a>62. 可变的返回类型</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//: polymorphism/CovariantReturn.java</span>
Polymorphism <span class="integer">211</span>
<span class="type">class</span> <span class="class">Grain</span> {
<span class="directive">public</span> <span class="predefined-type">String</span> toString() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Grain</span><span class="delimiter">&quot;</span></span>;
}
}
<span class="type">class</span> <span class="class">Wheat</span> <span class="directive">extends</span> Grain {
<span class="directive">public</span> <span class="predefined-type">String</span> toString() {
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Wheat</span><span class="delimiter">&quot;</span></span>;
}
}
<span class="type">class</span> <span class="class">Mill</span> {
Grain process() {
        <span class="keyword">return</span> <span class="keyword">new</span> Grain();
}
}
<span class="type">class</span> <span class="class">WheatMill</span> <span class="directive">extends</span> Mill {
Wheat process() { <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="keyword">return</span> <span class="keyword">new</span> Wheat();
}
}
<span class="directive">public</span> <span class="type">class</span> <span class="class">CovariantReturn</span> {
<span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        Mill m = <span class="keyword">new</span> Mill();
        Grain g = m.process();
        <span class="predefined-type">System</span>.out.println(g);
        m = <span class="keyword">new</span> WheatMill();
        g = m.process();
        <span class="predefined-type">System</span>.out.println(g);
}
} <span class="comment">/* Output:
     Grain
     Wheat
   */</span><span class="comment">//:~</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>注意，<em>override</em> 父类的 <em>process</em> 方法时，返回类型是子类型。</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>JavaSE<sub>5</sub> 之前会强制子类 <em>override</em> 时必须返回相同的类型，如Grain，而现在则不会。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<h1 id="_interfaces" class="sect0"><a class="anchor" href="#_interfaces"></a>Interfaces</h1>
<div class="sect1">
<h2 id="_extending_an_interface_with_inheritance"><a class="anchor" href="#_extending_an_interface_with_inheritance"></a>63. Extending an interface with inheritance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>对于接口继承时，可以同时继承多个接口。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">interface</span> <span class="class">Vampire</span> <span class="directive">extends</span> DangerousMonster, Lethal, Flyable { <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="type">void</span> drinkBlood();
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>创建新接口时，可以多继承其它接口</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>这种多extends的情况只在接口多继承的情况下有效。</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fields_in_interfaces"><a class="anchor" href="#_fields_in_interfaces"></a>64. Fields in interfaces</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Interface</em> 上的 <em>field</em> 都自动是 <em>static</em> 和 <em>final</em> 的。</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2016-05-14 14:37:41 中国标准时间
</div>
</div>
</body>
</html>